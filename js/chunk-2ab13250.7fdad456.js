(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab13250"],{"397b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tvChart",attrs:{id:t.containerId}})},o=[],s=(i("14d9"),i("3a0e"));const r={1:"1m",5:"5m",15:"15m",30:"30m",60:"1h",240:"4h",D:"1d",W:"1w",M:"1M"},a={1:"1m",5:"5m",15:"15m",30:"30m",60:"1H",240:"4H",D:"1D",W:"1W",M:"1M"};class h{constructor(t){this.vueInstance=t,this.resolution="",this.rangeEndDate="",this.onHistoryCallback="",this.okRangeEmdDate=""}onReady(t){return new Promise(t=>{let e=this.defaultConfiguration();this.vueInstance.getConfig&&(e=Object.assign(this.defaultConfiguration(),this.vueInstance.getConfig())),t(e)}).then(e=>t(e))}resolveSymbol(t,e,i){return new Promise(e=>{var i={name:t,ticker:t,description:t,type:"crypto",session:"24x7",timezone:"Asia/Shanghai",minmov:1,pricescale:Math.pow(10,this.vueInstance.symbolPrecision),fractional:!1,has_intraday:!0,has_weekly_and_monthly:!0,supported_resolution:["1","5","15","30","60","240","D","W","M"],volume_precision:this.vueInstance.symbolPrecision,has_empty_bars:!1,data_status:"streaming"};e(i)}).then(t=>{e(t)}).catch(t=>{i(t)})}getBars(t,e,i,n,o,s,r){this.resolution=e,this.rangeEndDate=n,this.onHistoryCallback=o,"okx"==this.vueInstance.exchangeName?r?this.getOkxCandles():this.getHistoryCandles():1==this.vueInstance.chartId?this.getKlines():this.getContinuousKlines(),this.vueInstance.onHistoryCallback=o}async getOkxCandles(){const t=await this.vueInstance.$api.exchange.candles({instId:""+this.vueInstance.currentTradePair,bar:a[this.resolution],after:"",limit:300});if(t.data&&t.data.length>0){const e=t.data.reverse();if(this.okRangeEmdDate=e[0][0],[7,8,9].includes(this.vueInstance.interval)){const t=e.map(t=>({time:Number(t[0])+288e5,low:Number(t[3]).toFix(this.vueInstance.symbolPrecision),high:Number(t[2]).toFix(this.vueInstance.symbolPrecision),open:Number(t[1]).toFix(this.vueInstance.symbolPrecision),close:Number(t[4]).toFix(this.vueInstance.symbolPrecision),volume:Number(t[6])}));this.onHistoryCallback(t,{noData:!1})}else{const t=e.map(t=>({time:Number(t[0]),low:Number(t[3]).toFix(this.vueInstance.symbolPrecision),high:Number(t[2]).toFix(this.vueInstance.symbolPrecision),open:Number(t[1]).toFix(this.vueInstance.symbolPrecision),close:Number(t[4]).toFix(this.vueInstance.symbolPrecision),volume:Number(t[6])}));this.onHistoryCallback(t,{noData:!1})}}}async getHistoryCandles(){const t=await this.vueInstance.$api.exchange.historyCandles({instId:""+this.vueInstance.currentTradePair,bar:a[this.resolution],after:this.okRangeEmdDate,limit:100});if(t.data&&t.data.length>0){const e=t.data.reverse();if(this.okRangeEmdDate=e[0][0],[7,8,9].includes(this.vueInstance.interval)){const t=e.map(t=>({time:Number(t[0])+288e5,low:Number(t[3]).toFix(this.vueInstance.symbolPrecision),high:Number(t[2]).toFix(this.vueInstance.symbolPrecision),open:Number(t[1]).toFix(this.vueInstance.symbolPrecision),close:Number(t[4]).toFix(this.vueInstance.symbolPrecision),volume:Number(t[6])}));this.onHistoryCallback(t,{noData:!1})}else{const t=e.map(t=>({time:Number(t[0]),low:Number(t[3]).toFix(this.vueInstance.symbolPrecision),high:Number(t[2]).toFix(this.vueInstance.symbolPrecision),open:Number(t[1]).toFix(this.vueInstance.symbolPrecision),close:Number(t[4]).toFix(this.vueInstance.symbolPrecision),volume:Number(t[6])}));this.onHistoryCallback(t,{noData:!1})}}else this.onHistoryCallback([],{noData:!0})}async getContinuousKlines(){const t=this.vueInstance.currentTradePair.split("-"),e=await this.vueInstance.$api.exchange.continuousKlines({pair:`${t[0]}${t[1]}`.toLowerCase(),contractType:"PERPETUAL",interval:r[this.resolution],endTime:1e3*this.rangeEndDate,limit:"1000"});if(e&&e.length>0)if([7,8,9].includes(this.vueInstance.interval)){const t=e.map(t=>({time:t[0]+288e5,low:t[3],high:t[2],open:t[1],close:t[4],volume:Number(t[5])}));this.onHistoryCallback(t,{noData:!1})}else{const t=e.map(t=>({time:t[0],low:t[3],high:t[2],open:t[1],close:t[4],volume:Number(t[5])}));this.onHistoryCallback(t,{noData:!1})}else this.onHistoryCallback([],{noData:!0})}async getKlines(){const t=this.vueInstance.currentTradePair.split("-"),e=await this.vueInstance.$api.exchange.klines({symbol:`${t[0]}${t[1]}`.toLowerCase(),interval:r[this.resolution],endTime:1e3*this.rangeEndDate,limit:"1000"});if(e&&e.length>0)if([7,8,9].includes(this.vueInstance.interval)){const t=e.map(t=>({time:t[0]+288e5,low:t[3],high:t[2],open:t[1],close:t[4],volume:Number(t[5])}));this.onHistoryCallback(t,{noData:!1})}else{const t=e.map(t=>({time:t[0],low:t[3],high:t[2],open:t[1],close:t[4],volume:Number(t[5])}));this.onHistoryCallback(t,{noData:!1})}else this.onHistoryCallback([],{noData:!0})}subscribeBars(t,e,i){this.vueInstance.socket&&this.vueInstance.socket.emit("sub",JSON.stringify({sub:`market.${this.vueInstance.currentTradePair}.kline.${r[e]}`,source:"pc"})),this.vueInstance.onRealtimeCallback=i}unsubscribeBars(t){}defaultConfiguration(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","240","D","W","M"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}}defaultSymbol(){return{name:this.vueInstance.currentTradePair,symbol:this.vueInstance.currentTradePair,timezone:"Asia/Shanghai",minmov:1,minmov2:2,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:this.vueInstance.currentTradePair,pricescale:1e4,ticker:this.vueInstance.currentTradePair,type:"stock",has_weekly_and_monthly:!0,"supported-resolutions":["1","5","15","30","60","240","D","W","M"]}}}var l=h,c=i("9923");const d={0:"1",1:"1",2:"5",3:"15",4:"30",5:"60",6:"240",7:"D",8:"W",9:"M"};var u={name:"Kline",props:{klineData:{type:Object,required:!0},interval:{type:Number,required:!0},currentTradePair:{type:String,required:!0},height:{type:String,default:"400px"},timezone:{type:String,default:"Asia/Shanghai"},theme:{type:String,default:"dark"},containerId:{default:"tv_chart_container",type:String},symbolPrecision:{type:Number,default:0},chartId:{type:Number,default:2},exchangeName:{type:String}},data(){return{tvWidget:null,onRealtimeCallback:null,cancelTime:"",currentTradePairTimeID:null,intervalTimeID:null,entityIdArr:[]}},mounted(){this.currentTradePair&&this.initWidget()},watch:{interval(t){if(String(t)){const e=this.tvWidget;this.onHistoryCallback&&this.onHistoryCallback([],{noData:!0}),e&&(0===t?e.onChartReady(()=>{e.chart().setResolution(d[t],()=>{}),e.applyOverrides({"mainSeriesProperties.style":3})}):e.onChartReady(()=>{e.chart().setResolution(d[t],()=>{}),e.applyOverrides({"mainSeriesProperties.style":1})}))}},klineData(t){if(t)if(["D","W","M"].includes(d[this.interval])){if(this.onRealtimeCallback){const e={time:Number(t.t)+288e5,open:Number(t.o),high:Number(t.h),low:Number(t.l),close:Number(t.c),volume:Number(t.v)};this.onRealtimeCallback(e)}}else if(this.onRealtimeCallback){const e={time:Number(t.t),open:Number(t.o),high:Number(t.h),low:Number(t.l),close:Number(t.c),volume:Number(t.v)};this.onRealtimeCallback(e)}},currentTradePair(t){t&&(this.tvWidget?this.tvWidget.onChartReady(()=>{if(this.onHistoryCallback&&this.onHistoryCallback([],{noData:!0}),this.tvWidget.chart().setSymbol(t,()=>{}),"okx"==this.exchangeName)return;this.entityIdArr.length>0&&this.entityIdArr.forEach(t=>{this.tvWidget.chart().removeEntity(t)}),this.entityIdArr=[];let e=["#965fc3","#84aad5","#55b263","#b8268b"],i=[7,25,99];i.forEach((t,i)=>{this.tvWidget.chart().createStudy("Moving Average Exponential",!1,!1,[t,"close",0],{"plot.linewidth":1,"plot.color.0":e[i],precision:this.symbolPrecision}).then(t=>{this.entityIdArr.push(t)})})}):this.initWidget())},theme(){this.currentTradePair&&this.initWidget()},exchangeName(){this.currentTradePair&&this.initWidget()}},methods:{initWidget(){const t={symbol:this.currentTradePair,datafeed:new l(this),interval:d[this.interval],container_id:this.containerId,library_path:"/charting_library/",timezone:this.timezone,locale:Object(c["c"])(),height:"100%",width:"100%",fullscreen:!1,autosize:!0,theme:this.theme,toolbar_bg:"dark"==this.theme?"#17181B":"#FFFFFF",disabled_features:["header_widget","go_to_date","show_hide_button_in_legend","show_interval_dialog_on_key_press","symbol_info","timeframes_toolbar","use_localstorage_for_settings","volume_force_overlay"],enabled_features:["dont_show_boolean_study_arguments","hide_last_na_study_output","move_logo_to_main_pane","same_data_requery","side_toolbar_in_fullscreen_mode"],overrides:{volumePaneSize:"medium","paneProperties.topMargin":10,"paneProperties.bottomMargin":10,"mainSeriesProperties.style":0==this.interval?3:1,"paneProperties.vertGridProperties.color":"dark"==this.theme?"#1b1f24":"#E5EBF5","paneProperties.horzGridProperties.color":"dark"==this.theme?"#1A1B1C":"#E5EBF5","paneProperties.background":"dark"==this.theme?"#17181B":"#FFFFFF"},debug:!1,loading_screen:{backgroundColor:"dark"==this.theme?"#17181B":"#FFFFFF"}};this.tvWidget=new s["widget"](t),"okx"!=this.exchangeName&&this.tvWidget.onChartReady(()=>{let t=["#965fc3","#84aad5","#55b263","#b8268b"],e=[7,25,99];e.forEach((e,i)=>{this.tvWidget.chart().createStudy("Moving Average Exponential",!1,!1,[e,"close",0],{"plot.linewidth":1,"plot.color.0":t[i],precision:this.symbolPrecision}).then(t=>{this.entityIdArr.push(t)})})})},showSettings(){let t=this.tvWidget;t&&t.onChartReady((function(){t.chart().executeActionById("chartProperties")}))},showIndicators(){let t=this.tvWidget;t&&t.onChartReady((function(){t.chart().executeActionById("insertIndicator")}))}}},p=u,_=(i("57ea"),i("2877")),m=Object(_["a"])(p,n,o,!1,null,"362cd8e5",null);e["default"]=m.exports},"3a0e":function(t,e,i){i("d9e2"),i("14d9"),function(t,i){i(e)}(0,(function(t){"use strict";var e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function i(t,n){var o=e({},t);for(var s in n)"object"!=typeof t[s]||null===t[s]||Array.isArray(t[s])?void 0!==n[s]&&(o[s]=n[s]):o[s]=i(t[s],n[s]);return o}var n={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},o={width:800,height:500,interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function s(){return"1.15 (internal id 2be7786e @ 2020-02-27 11:09:57.879405)"}var r=function(){function t(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=i(o,t),t.preset){var e=n[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then((function(){return t._innerWindow().headerReady()}))},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,i){this._innerAPI().changeSymbol(t,e+"",i)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,i){this._innerAPI().saveChartToServer(t,e,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=i(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},t.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),i=document.getElementById(this._options.container_id);if(null===i)throw new Error("There is no such element - #"+this._options.container_id);i.innerHTML=e,this._iFrame=i.querySelector("#"+this._id);var n=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(n.style.width="100%",this._options.fullscreen||(n.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(t){var e=function(){n.removeEventListener("load",e,!1),t()};n.addEventListener("load",e,!1)})),this._innerWindowLoaded.then((function(){t._innerWindow().widgetReady((function(){t._ready=!0;for(var e=0,i=t._readyHandlers;e<i.length;e++){var n=i[e];try{n.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()}))}))},t.prototype._render=function(){var t=window;if(t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)t[this._id].chartContent={json:this._options.saved_data};else if(!Boolean(this._options.symbol))throw new Error("Symbol is not defined");var e=(this._options.library_path||"")+"static/"+encodeURIComponent(this._options.locale)+"-tv-chart.2be7786e4f16505951a7.html#symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.widget=r,Object.defineProperty(t,"__esModule",{value:!0})}))},"57ea":function(t,e,i){"use strict";i("a058")},a058:function(t,e,i){}}]);