(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-148d74b2"],{"0134":function(e,t,s){"use strict";s("fde1")},"1c4c":function(e,t,s){"use strict";s("aee7")},"1fb7":function(e,t,s){},"39df":function(e,t,s){},"57e7":function(e,t,s){"use strict";s("bb7a")},"6eca":function(e,t,s){"use strict";s("39df")},"7c43":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flag-dropdown"},[t("div",{staticClass:"selected-flag",on:{click:e.toggleCountryNum}},[t("div",{class:e.classFlag}),t("div",{staticClass:"arrow",class:!0===e.cur?"up":"",on:{click:e.toggleCountryNum}}),t("div",{staticClass:"dail-txt",attrs:{title:e.countryNumber}},[e._v(" "+e._s(e.countryNumber)+" ")])]),e.cur?t("ul",{staticClass:"country-list"},[t("div",{staticClass:"search-box"},[e._m(0),t("el-input",{ref:"input",attrs:{placeholder:e.$t("assets_search")},on:{input:e.searchInput,blur:e.btnBlur},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}})],1),e._l(e.option,(function(s,r){return t("li",{key:r,staticClass:"country",on:{click:function(t){return e.select(s)}}},[t("div",{class:s.classTog}),t("span",{staticClass:"country-name"},[e._v(e._s(s.content))]),t("span",{staticClass:"dial-code"},[e._v(e._s(s.countryNum))])])}))],2):e._e()])},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-box-left"},[t("span",{staticClass:"iconfont iconsousuo"})])}],a=(s("14d9"),s("2f62")),i=(s("e825"),{name:"countryList",data(){return{classFlag:"flag cn",countryName:"China (中国)",countryNumber:"+86",cur:!1,countryicon:[],searchVal:"",option:[],langCode:"cn"}},props:{disabled:{type:Boolean,default:!1}},computed:{...Object(a["d"])({userInfo:"userInfo"})},mounted(){if(this.countryicon=this.langUtil.intelTel(),this.option=this.countryicon,this.userInfo.countryName){this.langCode=this.userInfo.countryName;for(const e of this.countryicon)this.langCode==e.langCode&&(this.countryNumber=e.countryNum,this.classFlag=e.classTog,this.countryName=e.langCode,this.$emit("confirm",e))}},methods:{toggleCountryNum(){this.disabled||(this.cur=!this.cur,this.cur&&this.$nextTick(()=>{this.$refs.input.focus()}))},btnBlur(){setTimeout(()=>{this.cur=!1},300)},select(e){this.countryNumber=e.countryNum,this.classFlag=e.classTog,this.countryName=e.content,this.cur=!1,this.$emit("confirm",e)},searchInput(e){if(this.searchVal){let t=[];for(const s of this.countryicon)(s.content.toUpperCase().includes(e.toUpperCase())||s.countryNum.toUpperCase().includes(e.toUpperCase()))&&t.push(s);this.option=t}else this.option=this.countryicon}}}),n=i,c=(s("6eca"),s("2877")),u=Object(c["a"])(n,r,o,!1,null,"b53f2e3c",null);t["a"]=u.exports},"96b7":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("HeaderBox",{attrs:{title:e.title,showBack:!0,"back-url":"/mine/security"}}),t("div",{staticClass:"content-warp"},[e.form?t("div",{staticClass:"height-box"},[e._v(" "+e._s(e.title)+" "),e.titleName?t("div",{staticClass:"titleName"},[e._v(" "+e._s(e.titleName)+" ")]):e._e()]):e._e(),e.form?t("el-form",{ref:"ruleForm",staticClass:"form-box",attrs:{model:e.form,rules:e.rules,"label-width":"0"}},[e._l(e.formInputData,(function(s,r){return t("el-form-item",{key:r,staticClass:"form-item",attrs:{label:"",prop:s.prop}},[t("div",{staticClass:"item-name"},[e._v(" "+e._s(s.name)+" ")]),"sendCode"===s.type?t("CodeInput",{attrs:{"is-type":s.isType,placeholder:s.placeholder,froms:e.form},on:{getPhoneCode:e.getPhoneCode,getValue:e.getCodeValue}}):t("div",[s.code?t("el-input",{attrs:{autocomplete:"new-password",maxlength:s.code,onkeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)));",placeholder:s.placeholder,"show-password":s.showPassword},model:{value:e.form[s.prop],callback:function(t){e.$set(e.form,s.prop,t)},expression:"form[item.prop]"}}):s.showPassword?t("el-input",{attrs:{autocomplete:"new-password",maxlength:20,placeholder:s.placeholder,"show-password":s.showPassword},model:{value:e.form[s.prop],callback:function(t){e.$set(e.form,s.prop,t)},expression:"form[item.prop]"}}):t("el-input",{attrs:{autocomplete:"new-password",placeholder:s.placeholder,"show-password":s.showPassword},model:{value:e.form[s.prop],callback:function(t){e.$set(e.form,s.prop,t)},expression:"form[item.prop]"}})],1)],1)})),t("el-form-item",[e.text?t("div",{staticClass:"item-text"},[e._v(e._s(e.text))]):e._e(),t("div",{staticClass:"but",on:{click:e.onSubmit}},[e._v(e._s(e.$t("account_center_determine")))])])],2):e._e(),"google-code"===e.paramsName?t("Google"):e._e()],1),"security-policy"===e.paramsName?t("Policy"):e._e()],1)},o=[],a=(s("d9e2"),s("14d9"),s("f5f6")),i=function(){var e=this,t=e._self._c;return t("el-input",{attrs:{placeholder:e.placeholder,maxlength:1===e.isType?"+86"===e.countryNumber?11:"":3===e.isType?6:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[1===e.isType?t("template",{slot:"prepend"},[t("countryList",{ref:"country",on:{confirm:e.countrySelect}})],1):e._e(),t("div",{staticClass:"suffix",attrs:{slot:"suffix"},on:{click:e.sendCode},slot:"suffix"},[e._v(" "+e._s(e.text)+" ")])],2)},n=[],c=s("9923"),u=s("7c43"),l={name:"code-input",components:{countryList:u["a"]},props:{isType:{type:Number,default:0},froms:{type:Object,default:()=>({})},placeholder:{type:String,default:()=>(void 0).$t("login_phone_placeholder")}},watch:{value(e){this.$emit("getValue",e)}},data(){return{captchaObj:null,validateRes:null,selectValue:"",value:"",isActive:!0,text:this.$t("assets_get_verification"),timeInter:null,countryNumber:"+86",langCode:""}},mounted(){this.initGeetest(),this.countryNumber=this.$refs.country.countryNumber,console.log(this.$refs.country.countryNumber)},methods:{countrySelect(e){console.log(e,"----"),this.countryNumber=e.countryNum,this.$emit("getPhoneCode",e.countryNum,e.langCode)},async initGeetest(){try{const e=await this.$api.login.initGeetest();1==e.success&&window.initGeetest({gt:e.gt,challenge:e.challenge,offline:!e.success,new_captcha:!0,product:"bind",width:"100%",lang:Object(c["b"])()},e=>{this.captchaObj=e,e.appendTo("#captcha2"),e.onReady(()=>{}).onSuccess(()=>{this.validateRes=e.getValidate(),this.send()}).onError(e=>{this.$handleError.handleApplicationException(e)})})}catch(e){this.$handleError.handleApiRequestException(e)}},async send(){let e="getApwSmsCode",t=this.validateRes;3===this.isType?(e="getApwSmsCode",t=this.validateRes):1===this.isType?(e="sendPhoneValidCode",t={...this.validateRes,mobile:this.value,passWord:this.$md5(this.froms.passWord+"hello, moto"),country:this.countryNumber}):2===this.isType&&(e="sendEmailValidCode",t={...this.validateRes,email:this.value,loginPwd:this.$md5(this.froms.passWord+"hello, moto")});const s=await this.$api.mine[e](t);if(s.success){this.$message({message:this.$t(s.code),type:"success"}),this.isActive=!1,this.text="90s";let e=90;this.timeInter=setInterval(()=>{e--,this.text=e+"s",e<=0&&(clearInterval(this.timeInter),this.timeInter=null,this.text=this.$t("assets_get_verification"),this.isActive=!0)},1e3)}},sendCode(){if(1===this.isType){var e;if("+86"==this.countryNumber&&11!==this.value.length)return this.$notify({message:this.$t("phoneNumber_register"),type:"warning"});if("+86"==this.countryNumber&&!this.$validator.isMobilePhone(this.value,"zh-CN"))return this.$notify({type:"warning",message:this.$t("phoneNumber_register")});if(!this.value)return this.$notify({type:"warning",message:this.$t("phoneNumber_register")});if(null===(e=this.froms)||void 0===e||!e.passWord)return this.$message({message:this.$t("account_center_enter_password"),type:"warning"})}if(2===this.isType){var t;if(!this.value)return this.$message({message:this.$t("fillEmail_register"),type:"warning"});if(null===(t=this.froms)||void 0===t||!t.passWord)return this.$message({message:this.$t("account_center_enter_password"),type:"warning"})}this.isActive&&this.captchaObj.verify()}},beforeDestroy(){this.timeInter&&(clearInterval(this.timeInter),this.text=this.$t("assets_get_verification"),this.isActive=!0,this.timeInter=null)}},d=l,p=(s("e00f"),s("2877")),m=Object(p["a"])(d,i,n,!1,null,"f414e4d6",null),h=m.exports,_=s("d3bf");console.log(_["a"].passwordVerification);var g={"fund-password":{form:{accountPassWord:"",reaccountPassWord:"",accountpwSmsCode:""},formInputData:[{prop:"accountPassWord",placeholder:c["d"].t("account_center_combinations"),showPassword:!0,name:c["d"].t("register_setpwd")},{prop:"reaccountPassWord",placeholder:c["d"].t("account_center_confirm_password"),showPassword:!0,name:c["d"].t("register_confirm_pwd")},{prop:"accountpwSmsCode",type:"sendCode",placeholder:c["d"].t("account_center_phone_code"),isType:3,code:6,name:c["d"].t("account_center_verification_code")}],rules:{accountPassWord:[{required:!0,message:c["d"].t("account_center_combinations"),trigger:"blur"},{min:8,max:20,message:c["d"].t("account_center_combinations"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}],reaccountPassWord:[{required:!0,message:c["d"].t("account_center_password_again"),trigger:"blur"}],accountpwSmsCode:[{required:!0,message:c["d"].t("account_center_enter_verification"),trigger:"blur"}]},codeInputName:"accountpwSmsCode",title:c["d"].t("account_center_set_fund_password"),titleName:c["d"].t("account_center_Withdrawal_password_1"),routerType:1},"modify-password":{form:{accountPassWord:"",reaccountPassWord:"",accountpwSmsCode:""},formInputData:[{prop:"accountPassWord",placeholder:c["d"].t("account_center_combinations"),showPassword:!0,name:c["d"].t("register_setpwd")},{prop:"reaccountPassWord",placeholder:c["d"].t("account_center_password_again"),showPassword:!0,name:c["d"].t("register_confirm_pwd")},{prop:"accountpwSmsCode",type:"sendCode",placeholder:c["d"].t("account_center_phone_code"),isType:3,code:6,name:c["d"].t("account_center_verification_code")}],rules:{accountPassWord:[{required:!0,message:c["d"].t("account_center_combinations"),trigger:"blur"},{min:8,max:20,message:c["d"].t("pwdLength_register"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}],reaccountPassWord:[{required:!0,message:c["d"].t("account_center_password_again"),trigger:"blur"}],accountpwSmsCode:[{required:!0,message:c["d"].t("account_center_enter_verification"),trigger:"blur"}]},codeInputName:"accountpwSmsCode",title:c["d"].t("account_center_reset_funds_password"),titleName:c["d"].t("account_center_Withdrawal_password"),routerType:1},"phone-modify":{form:{mobile:"",verifyCode:"",passWord:""},formInputData:[{prop:"mobile",placeholder:c["d"].t("account_center_enter_phone"),type:"sendCode",isType:1,name:c["d"].t("login_phone_number")},{prop:"verifyCode",placeholder:c["d"].t("account_center_enter_verification"),code:6,name:c["d"].t("account_center_phone_code")},{prop:"passWord",placeholder:c["d"].t("account_center_enter_password"),showPassword:!0,name:c["d"].t("account_center_login_password")}],rules:{mobile:[{required:!0,message:c["d"].t("account_center_enter_phone"),trigger:"blur"}],verifyCode:[{required:!0,message:c["d"].t("account_center_enter_verification"),trigger:"blur"}],passWord:[{required:!0,message:c["d"].t("account_center_enter_password"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}]},codeInputName:"mobile",title:c["d"].t("account_center_modify_phone"),routerType:4},"phone-set":{form:{mobile:"",verifyCode:"",passWord:""},formInputData:[{prop:"mobile",placeholder:c["d"].t("account_center_enter_phone"),type:"sendCode",isType:1,name:c["d"].t("login_phone_number")},{prop:"verifyCode",placeholder:c["d"].t("account_center_enter_verification"),code:6,name:c["d"].t("register_phone_verify")},{prop:"passWord",placeholder:c["d"].t("account_center_enter_password"),showPassword:!0,name:c["d"].t("login_password")}],rules:{mobile:[{required:!0,message:c["d"].t("account_center_enter_phone"),trigger:"blur"},{min:11,max:11,message:c["d"].t("account_center_enter_phone"),trigger:"blur"}],verifyCode:[{required:!0,message:c["d"].t("account_center_enter_verification"),trigger:"blur"}],passWord:[{required:!0,message:c["d"].t("account_center_enter_password"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}]},codeInputName:"mobile",title:c["d"].t("account_center_modify_phone"),routerType:4},"email-modify":{form:{email:"",verifyCode:"",passWord:""},formInputData:[{prop:"email",placeholder:c["d"].t("account_center_enter_email"),type:"sendCode",isType:2,name:c["d"].t("account_center_email")},{prop:"verifyCode",placeholder:c["d"].t("account_center_enter_verification"),code:6,name:c["d"].t("register_email_verify")},{prop:"passWord",placeholder:c["d"].t("account_center_enter_password"),showPassword:!0,name:c["d"].t("login_password")}],rules:{email:[{required:!0,message:c["d"].t("account_center_email_address"),trigger:"blur"},{type:"email",message:c["d"].t("account_center_enter_email_address"),trigger:["blur","change"]}],verifyCode:[{required:!0,message:c["d"].t("account_center_enter_verification"),trigger:"blur"}],passWord:[{required:!0,message:c["d"].t("account_center_enter_password"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}]},codeInputName:"email",title:c["d"].t("account_center_Modify_email"),routerType:3},"email-setup":{form:{email:"",verifyCode:"",passWord:""},formInputData:[{prop:"email",placeholder:c["d"].t("account_center_enter_email"),type:"sendCode",isType:2,name:c["d"].t("login_email_number")},{prop:"verifyCode",placeholder:c["d"].t("account_center_enter_verification"),code:6,name:c["d"].t("register_email_verify")},{prop:"passWord",placeholder:c["d"].t("account_center_enter_password"),showPassword:!0,name:c["d"].t("login_password")}],rules:{email:[{required:!0,message:c["d"].t("account_center_email_address"),trigger:"blur"},{type:"email",message:c["d"].t("account_center_enter_email_address"),trigger:["blur","change"]}],verifyCode:[{required:!0,message:c["d"].t("account_center_enter_verification"),trigger:"blur"}],passWord:[{required:!0,message:c["d"].t("account_center_enter_password"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}]},codeInputName:"email",title:c["d"].t("account_center_bind_email"),routerType:3},"login-setup":{form:{oldPassWord:"",accountPassWord:"",reaccountPassWord:""},formInputData:[{prop:"oldPassWord",placeholder:c["d"].t("account_center_enter_old_password"),showPassword:!0,name:c["d"].t("account_old_password")},{prop:"accountPassWord",placeholder:c["d"].t("account_center_enter_new_password"),showPassword:!0,name:c["d"].t("account_new_password")},{prop:"reaccountPassWord",placeholder:c["d"].t("account_center_confirm_password_again"),showPassword:!0,name:c["d"].t("account_center_confirm_password")}],rules:{oldPassWord:[{required:!0,message:c["d"].t("account_center_enter_old_password"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}],accountPassWord:[{required:!0,message:c["d"].t("account_center_enter_new_password"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}],reaccountPassWord:[{required:!0,message:c["d"].t("account_center_confirm_password_again"),trigger:"blur"},{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}]},codeInputName:"name",title:c["d"].t("account_center_modify_login_password"),titleName:c["d"].t("account_center_Withdrawal_password_2"),routerType:2},"google-code":{title:c["d"].t("account_center_open_google_verification")},"security-policy":{title:c["d"].t("account_center_security_strategy")},"google-close":{form:{password:"",codes:""},formInputData:[{prop:"password",placeholder:c["d"].t("account_center_enter_password"),showPassword:!0},{prop:"codes",placeholder:c["d"].t("account_center_enter_google_code"),code:6}],rules:{password:[{validator:(e,t,s)=>{_["a"].passwordVerification(t)?s():s(new Error(c["d"].t("pwdLength_register")))},trigger:"blur"}],codes:[{required:!0,message:c["d"].t("account_center_enter_google_code"),trigger:"blur"}]},title:c["d"].t("account_center_close_google_verification"),routerType:5,text:c["d"].t("account_center_reopened_closing")}},f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"google-warp"},[t("div",{staticClass:"header-box"},[e._v(" "+e._s(e.$t("account_center_google_verification"))+" ")]),t("div",{staticClass:"google-content"},[t("div",{staticClass:"content-box"},[t("p",[e._v(" "+e._s(e.$t("account_center_google_copywriting1"))+" ")]),t("p",[e._v(" "+e._s(e.$t("account_center_google_copywriting2"))+" ")]),t("div",{staticClass:"input-name"},[e._v(" "+e._s(e.$t("account_center_key"))+" ")]),t("div",{staticClass:"input-box"},[t("div",{staticClass:"value"},[e._v(e._s(e.getCodeData.googleKey))])]),t("div",{staticClass:"input-name"},[e._v(" "+e._s(e.$t("account_center_verification_code"))+" ")]),t("div",{staticClass:"input-box"},[t("div",{staticClass:"value"},[t("el-input",{attrs:{oninput:"if(value.length > 6) value=value.slice(0, 6)",onkeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)));",placeholder:e.$t("account_center_enter_google_code"),type:"number"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)]),t("div",{staticClass:"qrcode-box"},[t("p",[e._v(e._s(e.$t("account_center_google_copywriting3")))]),e.getCodeData.googleKey?t("vue-qr",{attrs:{text:e.urlCode,margin:5,size:240}}):e._e()],1),t("div",{staticClass:"but-box"},[t("div",{staticClass:"submit",on:{click:e.send}},[e._v(e._s(e.$t("account_center_determine")))])])])])])},y=[],w={name:"google",data(){return{code:"",urlCode:"",getCodeData:{company:"",googleKey:"",userName:""}}},methods:{async send(){if(!this.code)return this.$notify({title:this.$t("notice_title_warn"),message:this.$t("account_center_enter_google_code"),type:"warning"});const e=await this.$api.mine.googleValid({codes:this.code,savedSecret:this.getCodeData.googleKey});e.success&&(this.$notify({message:this.$t(e.code),type:"success"}),setTimeout(()=>{this.$router.push("/mine/security")},200))},async createGoogleValidCode(){const e=await this.$api.mine.createGoogleValidCode();e.success&&(this.getCodeData=e.obj,this.urlCode=`otpauth://totp/${e.obj.userName}?secret=${e.obj.googleKey}&issuer=${e.obj.company}`)}},mounted(){this.createGoogleValidCode()}},v=w,b=(s("57e7"),Object(p["a"])(v,f,y,!1,null,"d6cf8dc0",null)),$=b.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"policy-warp"},[t("div",{staticClass:"policy-box"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("account_center_login_authentication"))+" ")]),e._l(e.verificationData,(function(s,r){return t("div",{key:r,staticClass:"item-box",on:{click:function(t){return e.selectModus(s,"login")}}},[t("div",{staticClass:"text"},[e._v(e._s(s.title))]),t("div",{staticClass:"item-icon",class:{select:s.switch}},[t("i",{staticClass:"el-icon-circle-check"})])])}))],2),t("div",{staticClass:"policy-box"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("account_center_withdrawal_verification"))+" ")]),e.userInfo.accountPassWord?t("div",e._l(e.securityData,(function(s,r){return t("div",{key:r,staticClass:"item-box",on:{click:function(t){return e.selectModus(s,"tixian")}}},[t("div",{staticClass:"text"},[e._v(e._s(s.title))]),t("div",{staticClass:"item-icon",class:{select:s.switch}},[t("i",{staticClass:"el-icon-circle-check"})])])})),0):t("div",{staticClass:"tips",on:{click:function(t){return e.$router.push("/mine/security/setup/fund-password")}}},[e._v(e._s(e.$t("account_center_setting_password")))])])])},N=[],x=s("2f62"),P={name:"policy",data(){return{verificationData:[{title:this.$t("account_center_login_password"),switch:1===this.$store.state.userInfo.safeLoginType,value:1,status:1},{title:this.$t("account_center_login_phone"),switch:2===this.$store.state.userInfo.safeLoginType,value:2,status:this.$store.state.userInfo.phoneState},{title:this.$t("account_center_login_email"),switch:4===this.$store.state.userInfo.safeLoginType,value:4,status:this.$store.state.userInfo.hasEmail},{title:this.$t("account_center_login_google"),switch:3===this.$store.state.userInfo.safeLoginType,value:3,status:this.$store.state.userInfo.googleState}],securityData:[{title:this.$t("account_center_fund_password"),switch:1===this.$store.state.userInfo.safeTixianType,value:1,status:1},{title:this.$t("account_center_fund_phone"),switch:2===this.$store.state.userInfo.safeTixianType,value:2,status:this.$store.state.userInfo.phoneState},{title:this.$t("account_center_fund_email"),switch:4===this.$store.state.userInfo.safeTixianType,value:4,status:this.$store.state.userInfo.hasEmail},{title:this.$t("account_center_fund_google"),switch:3===this.$store.state.userInfo.safeTixianType,value:3,status:this.$store.state.userInfo.googleState}]}},computed:{...Object(x["d"])({userInfo:e=>e.userInfo})},mounted(){},methods:{async selectModus(e,t){if(e.switch)return;if(0===e.status){if(2===e.value)return void this.$notify({title:this.$t("notice_title_warn"),message:this.$t("account_center_turned_phone_verification"),type:"warning"});if(3===e.value)return void this.$notify({title:this.$t("notice_title_warn"),message:this.$t("account_center_turned_google_verification"),type:"warning"});if(4===e.value)return void this.$notify({title:this.$t("notice_title_warn"),message:this.$t("account_center_turned_email_verification"),type:"warning"})}const s=await this.$api.mine.setSecurity({type:t,value:e.value});s.success&&("login"===t&&this.verificationData.map(t=>e.value===t.value?t.switch=!0:t.switch=!1),"tixian"===t&&this.securityData.map(t=>e.value===t.value?t.switch=!0:t.switch=!1),this.$notify({message:this.$t(s.code),type:"success"}),this.$store.dispatch("GET_USER_INFO"))}}},I=P,W=(s("1c4c"),Object(p["a"])(I,C,N,!1,null,"10910a2c",null)),T=W.exports,k={name:"phone",components:{HeaderBox:a["a"],CodeInput:h,Google:$,Policy:T},mounted(){document.title=g[this.$route.params.name].title+" | "+this.$t("account_center_security")},watch:{"$route.params.name"(){this.init()}},data(){return{countryName:"cn",text:g[this.$route.params.name].text,countryNumber:"+86",paramsName:this.$route.params.name,formInputData:g[this.$route.params.name].formInputData,form:g[this.$route.params.name].form,rules:{...g[this.$route.params.name].rules,reaccountPassWord:[{validator:(e,t,s)=>{""===t?s(new Error(this.$t("account_center_enter_password_again"))):t!==this.form.accountPassWord?s(new Error(this.$t("account_center_passwords_twice"))):s()},trigger:"blur"}]},codeInputName:g[this.$route.params.name].codeInputName,title:g[this.$route.params.name].title,titleName:g[this.$route.params.name].titleName}},methods:{init(){this.text=g[this.$route.params.name].text,this.countryNumber="+86",this.paramsName=this.$route.params.name,this.formInputData=g[this.$route.params.name].formInputData,this.form=g[this.$route.params.name].form,this.rules={...g[this.$route.params.name].rules,reaccountPassWord:[{validator:(e,t,s)=>{""===t?s(new Error(this.$t("account_center_enter_password_again"))):t!==this.form.accountPassWord?s(new Error(this.$t("account_center_passwords_twice"))):s()},trigger:"blur"}]},this.codeInputName=g[this.$route.params.name].codeInputName,this.title=g[this.$route.params.name].title},getCodeValue(e){this.form[this.codeInputName]=e},getPhoneCode(e,t){this.countryNumber=e,this.countryName=t},onSubmit(){this.$refs.ruleForm.validate(async e=>{if(!e)return console.log("error submit!!"),!1;if(1===g[this.$route.params.name].routerType){const e=await this.$api.mine.setAccountPassword({...this.form,accountPassWord:this.$md5(this.form.accountPassWord+"hello, moto"),reaccountPassWord:this.$md5(this.form.reaccountPassWord+"hello, moto")});e.success&&(this.$notify({message:""+this.title+this.$t(e.code),type:"success"}),setTimeout(()=>{this.$router.push("/mine/security")},200))}else if(2===g[this.$route.params.name].routerType){const e=await this.$api.mine.resetPassword({oldPassWord:this.$md5(this.form.oldPassWord+"hello, moto"),newPassWord:this.$md5(this.form.accountPassWord+"hello, moto"),reNewPassWord:this.$md5(this.form.reaccountPassWord+"hello, moto")});e.success&&(this.$notify({message:""+this.title+this.$t(e.code),type:"success"}),setTimeout(async()=>{this.$store.commit("USER_LOGIN_OUT"),this.$router.push({path:"/login"})},200))}else if(3===g[this.$route.params.name].routerType){const e=await this.$api.mine.securitySetEmail({verifyCode:this.form.verifyCode,loginPwd:this.$md5(this.form.passWord+"hello, moto"),email:this.form.email});e.success&&(this.$notify({message:""+this.title+this.$t(e.code),type:"success"}),setTimeout(()=>{this.$router.push("/mine/security"),console.log(3331)},200))}else if(4===g[this.$route.params.name].routerType){if("+86"==this.countryNumber&&11!==this.form.mobile.length)return this.$notify({message:this.$t("phoneNumber_register"),type:"warning"});const e=await this.$api.mine.setPhone({verifyCode:this.form.verifyCode,passWord:this.$md5(this.form.passWord+"hello, moto"),mobile:this.form.mobile,country:this.countryNumber,countryName:this.countryName});e.success&&(this.$notify({message:""+this.title+this.$t(e.code),type:"success"}),setTimeout(()=>{console.log(33334),this.$router.push("/mine/security")},200))}else if(5===g[this.$route.params.name].routerType){const e=await this.$api.mine.unbindGoogle({password:this.$md5(this.form.password+"hello, moto"),codes:this.form.codes});e.success&&(this.$notify({message:""+this.title+this.$t(e.code),type:"success"}),setTimeout(()=>{this.$router.push("/mine/security"),console.log(3336)},200))}})}}},S=k,V=(s("f9c1"),Object(p["a"])(S,r,o,!1,null,"2916c54e",null));t["default"]=V.exports},ad19:function(e,t,s){},aee7:function(e,t,s){},bb7a:function(e,t,s){},e00f:function(e,t,s){"use strict";s("ad19")},e825:function(e,t,s){},f5f6:function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-warp"},[e.$slots.avatar?e._t("avatar"):t("div",{staticClass:"pointer",on:{click:e.back}},[e.showBack?t("i",{staticClass:"el-icon-arrow-left pointer"}):e._e(),e._v(" "+e._s(e.title)+" ")])],2)},o=[],a=(s("14d9"),{name:"header-box",props:{title:{type:String,default:""},backUrl:{type:String,default:""},showBack:{type:Boolean,default:!1}},methods:{back(){this.$router.push(this.backUrl)}}}),i=a,n=(s("0134"),s("2877")),c=Object(n["a"])(i,r,o,!1,null,"5d389701",null);t["a"]=c.exports},f9c1:function(e,t,s){"use strict";s("1fb7")},fde1:function(e,t,s){}}]);