(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec49d576"],{"40ff":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"api-warp"},[t("div",{staticClass:"header-title"},[t("div",[e._v(e._s(e.$t("account_center_api")))])]),t("div",{staticClass:"table-box"},[t("div",{staticClass:"table-header"},[t("div",{staticClass:"th"},[e._v(e._s(e.$t("account_center_exchange")))]),t("div",{staticClass:"th"},[e._v(e._s(e.$t("account_center_api_key")))])]),e._l(e.list,(function(s,a){return t("div",{key:a,staticClass:"table-content"},[t("div",{staticClass:"th"},[e._v(" "+e._s(e._f("exchangeName")(s.exchange))+" ")]),t("div",{staticClass:"th"},[e._v(" "+e._s(s.apikey))])])})),0===e.list.length?t("el-empty",{attrs:{description:e.$t("notice_no_data"),image:s("e335")}}):e._e()],2),t("Dialog",{attrs:{title:e.$t("account_center_new_API"),minWidth:"460px",footer:!0},on:{cancel:e.cancel},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[t("el-form",{ref:"form",attrs:{"label-position":"top","hide-required-asterisk":!0,rules:e.rules,model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{prop:"exchange"}},[t("div",{staticClass:"label-item",attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("account_center_exchange"))+" ")]),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.exchange,callback:function(t){e.$set(e.form,"exchange",t)},expression:"form.exchange"}},e._l(e.supportExchange,(function(e){return t("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),t("el-form-item",{attrs:{prop:"apikey"}},[t("div",{staticClass:"label-item",attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("account_center_api_key"))+" ")]),t("el-input",{attrs:{placeholder:e.$t("account_center_enter_api_key")},model:{value:e.form.apikey,callback:function(t){e.$set(e.form,"apikey",t)},expression:"form.apikey"}})],1),t("el-form-item",{attrs:{prop:"secretKey"}},[t("div",{staticClass:"label-item",attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("account_center_secret_key"))+" ")]),t("el-input",{attrs:{placeholder:e.$t("account_center_enter_secret_key")},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,"secretKey",t)},expression:"form.secretKey"}})],1),"okx"===e.form.exchange?t("el-form-item",{attrs:{prop:"passphrase"}},[t("div",{staticClass:"label-item",attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("login_pwd"))+" ")]),t("el-input",{attrs:{placeholder:e.$t("login_pwd_placeholder")},model:{value:e.form.passphrase,callback:function(t){e.$set(e.form,"passphrase",t)},expression:"form.passphrase"}})],1):e._e()],1),t("div",{staticClass:"but",on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.$t("account_center_determine")))])],1)],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.page,layout:"prev, pager, next",total:e.total},on:{"current-change":e.changeList}})],1)])},i=[],r=(s("d9e2"),s("e4ef")),c={components:{Dialog:r["a"]},name:"index",mounted(){this.getList(),this.supportExchanges()},filters:{_str(e){return e.substr(0,15)+"***"+e.substr(e.split("").length-15,e.split("").length)}},methods:{async supportExchanges(){const e=await this.$api.common.getKey({key:"support_exchange"});this.supportExchange=e.obj,this.form.exchange=e.obj[0].value},cancel(){this.dialogVisible=!1,this.$refs.form.resetFields()},async submitForm(){if(!this.form.apikey)return this.$notify({message:this.$t("account_center_enter_apikey"),type:"warning"});if(!this.form.secretKey)return this.$notify({message:this.$t("account_center_enter_secretkey"),type:"warning"});if("okx"===this.form.exchange&&!this.form.passphrase)return this.$notify({message:this.$t("login_pwd_placeholder"),type:"warning"});const e=await this.$api.mine.exchangeApiAdd(this.form);e.success&&(this.$notify({message:this.$t(e.code),type:"success"}),this.dialogVisible=!1,this.getList())},async deleteKey(e){const t=await this.$api.mine.exchangeApiDelete({id:e});t.success&&this.$message({message:this.$t(t.code),type:"success"})},async getList(){const e=await this.$api.mine.exchangeApiList({offset:this.page,limit:10});e.success&&(this.total=e.obj.total,this.list=e.obj.records)},changeList(e){this.page=e}},data(){return{total:0,page:1,list:[],supportExchange:[],dialogVisible:!1,form:{exchange:"biance",apikey:"",secretKey:"",passphrase:""},rules:{apikey:[{required:!0,message:this.$t("account_center_enter_apikey"),trigger:"blur"}],secretKey:[{required:!0,message:this.$t("account_center_enter_secretkey"),trigger:"blur"}],passphrase:[{required:!0,message:this.$t("login_pwd_placeholder"),trigger:"blur"}]}}}},l=c,n=(s("ffd2"),s("2877")),o=Object(n["a"])(l,a,i,!1,null,"02b452af",null);t["default"]=o.exports},d003:function(e,t,s){},e335:function(e,t,s){e.exports=s.p+"img/list.e55dcec1.png"},ffd2:function(e,t,s){"use strict";s("d003")}}]);