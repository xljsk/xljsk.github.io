(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cabf5ee8"],{"0134":function(t,e,s){"use strict";s("fde1")},"0d96":function(t,e,s){},"14cc":function(t,e,s){"use strict";s("0d96")},"43dc":function(t,e,s){"use strict";s("956a")},"53eb":function(t,e,s){},"56fd":function(t,e,s){"use strict";s("53eb")},"573e":function(t,e,s){"use strict";s("d8a6")},"653a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("HeaderBox",[e("div",{staticClass:"avatar-wrap",attrs:{slot:"avatar"},slot:"avatar"},[e("Avatar",{attrs:{userId:t.userInfo.customerId,avatarSize:"60",isForceUpdate:!0,src:t.uploadImgUrl}}),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.userInfo.nickNameOtc||t.userInfo.nickName||"--"))]),e("div",{staticClass:"uid"},[e("span",[t._v(t._s(t.$t("account_center_uid"))+t._s(t.userInfo.customerId)+" ")]),e("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:""+t.userInfo.customerId,expression:"`${userInfo.customerId}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copySuccess,expression:"copySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.copyError,expression:"copyError",arg:"error"}]},[e("svg-icon",{staticClass:"copy pointer",attrs:{data_iconName:"copy",size:"16"}})],1)])])],1)]),e("div",{staticClass:"card-list"},[e("UserInfo",{staticClass:"mb20",on:{updateAvatar:t.updateAvatar}}),e("Security",{staticClass:"mb20"}),e("Ticket"),e("APISet")],1)],1)},i=[],n=s("f5f6"),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"top"},[e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v(t._s(t.$t("account_center_phone")))]),e("span",{staticClass:"right"},[t._v(t._s(t.userInfo.country)+" "+t._s(t.userInfo.mobile))])]),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v(t._s(t.$t("account_center_email")))]),e("span",{staticClass:"right"},[t._v(t._s(t.userInfo.email))])]),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v(t._s(t.$t("account_center_nick")))]),e("el-tooltip",{attrs:{effect:"dark",content:t.$t("home_page_edit"),placement:"top"}},[e("span",{staticClass:"right pointer",on:{click:function(e){t.dialogVisible=!0}}},[e("i",{staticClass:"el-icon-edit icon"}),t._v(t._s(t.userInfo.nickNameOtc||t.userInfo.nickName||"--"))])])],1),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v(t._s(t.$t("account_center_avatar")))]),e("el-upload",{ref:"uploadImg",staticClass:"avatar-uploader",attrs:{accept:"image/*",action:t.action,"show-file-list":!1,"on-change":t.handleChange,"auto-upload":!1}},[e("div",{staticClass:"avatar-wrap",on:{mouseenter:function(e){t.isShowPopup=!0},mouseleave:function(e){t.isShowPopup=!1}}},[t.isShowPopup?e("div",{staticClass:"tips-wrap"},[e("span",[t._v(t._s(t.$t("home_page_edit")))])]):t._e(),e("Avatar",{staticClass:"pointer",attrs:{userId:t.userInfo.customerId,avatarSize:"32",isForceUpdate:!0,src:t.uploadImgUrl,isShowLevel:!1}})],1)])],1)]),e("div",{staticClass:"line"}),e("div",{staticClass:"bottom"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("account_center_partner_program")))]),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v(t._s(t.$t("account_center_Number_invitees")))]),e("span",{staticClass:"right"},[t._v(t._s(t.inviteNum)+t._s(t.$t("account_center_people")))])]),e("div",{staticClass:"btn-wrap"},[e("div",{staticClass:"left primary-medium-btn pointer",on:{click:function(e){return t.routerPush("/mine/invite-friends")}}},[t._v(t._s(t.$t("account_center_become_partner")))]),e("div",{staticClass:"right primary-medium-btn pointer",on:{click:function(e){return t.routerPush("/mine/invite-friends")}}},[t._v(t._s(t.$t("account_center_partner_details")))])])]),e("Dialog",{attrs:{title:t.$t("account_center_edit_nickname")},on:{cancel:t.reset,confirm:function(e){return t.submitForm("form")}},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[e("el-form",{ref:"form",attrs:{"label-position":"top","hide-required-asterisk":!0,rules:t.rules,model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{prop:"nName"}},[e("div",{staticClass:"label-item",attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("account_center_nickname"))+" ")]),e("el-input",{attrs:{maxlength:"10",minlength:"2"},model:{value:t.form.nName,callback:function(e){t.$set(t.form,"nName",e)},expression:"form.nName"}})],1)],1)],1)],1)},c=[],o=(s("d9e2"),s("14d9"),s("2f62")),l=s("6ca8"),u=s.n(l),p=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"custom-class":"c-dialog",visible:t.value,width:"480px","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1}},[e("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[e("div",[t._v(t._s(t.title))]),e("div",{on:{click:t.cancel}},[e("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"24px"}})])]),e("div",{staticClass:"content-box"},[t._t("default")],2),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"cancel pointer",on:{click:t.cancel}},[t._v(t._s(t.cancelText))]),e("div",{staticClass:"confirm pointer",on:{click:function(e){return t.$emit("confirm")}}},[t._v(t._s(t.confirmText))])])])},d=[],_={name:"dialog-cpn",props:{value:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default(){return this.$t("cancel_register")}},confirmText:{type:String,default(){return this.$t("assets_address_delete_confirm")}}},data(){return{}},computed:{},methods:{cancel(){this.$emit("input",!1),this.$emit("cancel")}}},m=_,f=(s("14cc"),s("2877")),h=Object(f["a"])(m,p,d,!1,null,"4b61b168",null),v=h.exports,g={name:"user-info-cpn",components:{Dialog:v},data(){var t=(t,e,s)=>{e.length<2&&s(new Error(this.$t("account_center_nName_length_minlength"))),s()};return{isShowPopup:!1,inviteNum:"0",uploadImgUrl:"",action:"https://dev-app.rosetta.work/upload/addPicture",rules:{nName:[{required:!0,message:this.$t("account_center_enter_nickname"),trigger:"blur"},{validator:t,trigger:"blur"}]},dialogVisible:!1,form:{nName:""}}},computed:{...Object(o["d"])({token:"token",userInfo:"userInfo"}),_c_avatar_src(){return`${this.$getEnv("VUE_APP_ALIOSS_URL")}/${this.userInfo.avatar}`}},mounted(){this.countInviteNum()},methods:{mouseenter(){this.isShowPopup=!!this.showPopup},mouseleave(){this.isShowPopup=(this.showPopup,!1)},reset(){this.form.nName=""},submitForm(t){this.$refs[t].validate(t=>{t?this.updateNickName(this.form):this.$notify({message:this.$t("account_center_enter_nickname"),type:"error"})})},errorHandler(){return!0},routerPush(t){this.$router.push({path:t})},async countInviteNum(){const t=await this.$api.mine.countInviteNum();t.success&&(this.inviteNum=t.obj.inviteNum)},async updateNickName(t){const e=await this.$api.mine.updateNickName(t);e.success&&(this.dialogVisible=!1,this.reset(),this.$notify({message:this.$t(e.code),type:"success"}),this.$store.dispatch("GET_USER_INFO"),this.$emit("updateAvatar",this.uploadImgUrl))},handleChange(t){console.log("handleChange++++++++++",t,t.raw.type,t.raw.size);let e=!0;if(t.status){"image/jpeg"!==t.raw.type&&"image/png"!==t.raw.type&&(e=!1,this.uploadImgUrl="",this.$refs.uploadImg.clearFiles());const s=t.raw.size/1024/1024<4;if(!e)return this.$notify({message:this.$t("account_center_format"),type:"error"});if(!s)return this.$notify({message:this.$t("account_center_exceed"),type:"error"});u()(t.raw,{quality:.5}).then(e=>{e.base64&&(this.uploadImgUrl=URL.createObjectURL(t.raw),this.uploadApi(e.formData))})}},async uploadApi(t){const e=await this.$api.mine.uploadApi(t);e.success&&this.updateNickName({avatar:e.obj.toString()})}}},C=g,b=(s("bf21"),Object(f["a"])(C,r,c,!1,null,"75a3d8a1",null)),y=b.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap pointer"},[e("HeaderWrap",{attrs:{title:t.$t("account_center_security")},on:{rightClick:function(e){return t.routerPush("/mine/security")}}}),e("div",{staticClass:"bottom"},[e("div",{staticClass:"row"},[e("div",{staticClass:"item",on:{click:function(e){return t.routerPush(1===t.userInfo.hasEmail?"/mine/security/setup/email-modify":"/mine/security/setup/email-setup")}}},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("account_center_mail_verification")))]),e("div",{staticClass:"pointer",class:t.showStatusClassName(t.userInfo.hasEmail)},[t._v(t._s(t.showStatusText(t.userInfo.hasEmail)))])]),e("div",{staticClass:"bottom routine"},[t._v(t._s(t.userInfo.email))])]),e("div",{staticClass:"item",on:{click:function(e){return t.routerPush(1===t.userInfo.phoneState?"/mine/security/setup/phone-modify":"/mine/security/setup/phone-set")}}},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("account_center_phone_verification")))]),e("div",{staticClass:"pointer",class:t.showStatusClassName(t.userInfo.phoneState)},[t._v(t._s(t.showStatusText(t.userInfo.phoneState)))])]),e("div",{staticClass:"bottom"},[t._v(t._s(t.$t("account_center_settings")))])])]),e("div",{staticClass:"line"}),e("div",{staticClass:"row"},[e("div",{staticClass:"item",on:{click:function(e){return t.routerPush(1===t.userInfo.googleState?"/mine/security/setup/google-close":"/mine/security/setup/google-code")}}},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("account_center_google_verification")))]),e("div",{staticClass:"pointer",class:t.showStatusClassName(t.userInfo.googleState)},[t._v(t._s(t.showStatusText(t.userInfo.googleState)))])]),e("div",{staticClass:"bottom"},[t._v(t._s(t.$t("account_center_settings")))])]),e("div",{staticClass:"item",on:{click:function(e){return t.routerPush("/mine/security/setup/security-policy")}}},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("account_center_security_strategy")))])]),e("div",{staticClass:"bottom"},[t._v(t._s(t.$t("account_center_settings")))])])]),e("div",{staticClass:"line"}),e("div",{staticClass:"row h125"},[e("div",{staticClass:"item",on:{click:function(e){return t.routerPush("/mine/security/setup/fund-password")}}},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("account_center_fund_password")))])]),e("div",{staticClass:"bottom"},[t._v(t._s(t.$t("account_center_settings")))])]),e("div",{staticClass:"item",on:{click:function(e){return t.routerPush("/mine/security/setup/login-setup")}}},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("account_center_login_password")))])]),e("div",{staticClass:"bottom"},[t._v(t._s(t.$t("account_center_settings")))])])])])],1)},$=[],w=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"title-wrap"},[e("span",{staticClass:"title"},[t._v(t._s(t.title))]),t.$slots.right?t._t("right"):e("i",{staticClass:"el-icon-arrow-right",on:{click:function(e){return t.$emit("rightClick")}}})],2),e("div",{staticClass:"line"})])},I=[],x={name:"header-cpn",props:{title:{type:String,default:""}},data(){return{}}},S=x,N=(s("d49e"),Object(f["a"])(S,w,I,!1,null,"4c1aacf6",null)),P=N.exports,j={name:"security-cpn",components:{HeaderWrap:P},data(){return{}},computed:{...Object(o["d"])({token:"token",userInfo:"userInfo"})},methods:{routerPush(t){this.$router.push({path:t})},showStatusClassName(t){return 1===t?"actived":"no-actived"},showStatusText(t){return 1===t?this.$t("account_center_activated"):this.$t("account_center_unopened")}}},A=j,O=(s("573e"),Object(f["a"])(A,k,$,!1,null,"d7b9842a",null)),U=O.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("HeaderWrap",{attrs:{title:t.$t("account_center_order")}},[e("div",{staticClass:"primary-mini-btn pointer",attrs:{slot:"right"},on:{click:function(e){return t.routerPush("/mine/ticket/add-ticket")}},slot:"right"},[t._v(t._s(t.$t("account_center_add")))])]),Object.keys(t.ticketInfo).length?e("div",{staticClass:"bottom pointer",on:{click:function(e){return t.routerPush("/mine/ticket/ticket-details?id="+t.ticketInfo.id)}}},[e("p",{staticClass:"desc"},[e("span",{staticStyle:{"margin-right":"5px"}},[t._v(t._s(t.$t("account_center_work_order")))]),t._v(t._s(t.ticketInfo.workContent)+" ")]),e("div",{staticClass:"image-wrap"},t._l(t.imageList(t.ticketInfo.imgUrl),(function(s,a){return e("el-image",{key:a,style:t._c_iamge_error_style,attrs:{src:t.image_src(s),fit:"cover"}},[e("div",{staticClass:"image-slot",style:t._c_iamge_error_style,attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])})),1)]):e("el-empty",{attrs:{image:s("e335"),description:t.$t("notice_no_data"),"image-size":133}})],1)},E=[],T={name:"ticket-cpn",components:{HeaderWrap:P},data(){return{url:"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg",ticketInfo:{}}},computed:{_c_iamge_error_style(){return{width:"133px",height:"133px",display:"flex","justify-content":"center","align-items":"center",background:"#f5f7fa",color:"#909399"}}},mounted(){this.myWorkOrderList()},methods:{imageList(t){if(t){const e=t.split(",");return e.splice(0,3)}},image_src(t){return"https://bandex-dev.oss-cn-shenzhen.aliyuncs.com/"+t},routerPush(t){this.$router.push({path:t})},async myWorkOrderList(){const t=await this.$api.mine.myWorkOrderList({lasttime:"",limit:1});t.success&&t.obj.records.length&&(this.ticketInfo=t.obj.records[0])}}},z=T,H=(s("56fd"),Object(f["a"])(z,L,E,!1,null,"3d877548",null)),W=H.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap pointer"},[e("HeaderWrap",{attrs:{title:t.$t("account_center_api")},on:{rightClick:function(e){return t.$router.push("/mine/security")}}}),Object.keys(t.API_info).length?e("div",{staticClass:"bottom"},[e("div",{staticClass:"key item"},[t._v(t._s(t.$t("account_center_exchange")))]),e("div",{staticClass:"value item"},[t._v(t._s(t._f("exchangeName")(t.API_info.exchange)))]),e("div",{staticClass:"key item"},[t._v(t._s("API Key"))]),e("div",{staticClass:"value item"},[t._v(t._s(t.API_info.apikey))])]):e("el-empty",{attrs:{image:s("e335"),description:t.$t("notice_no_data"),"image-size":133}})],1)},B=[],F={name:"API-ticket-cpn",components:{HeaderWrap:P},data(){return{API_info:{}}},filters:{_f_encrypt(t=""){return t?t.substr(0,15)+"***"+t.substr(t.split("").length-15,t.split("").length):""}},mounted(){this.exchangeApiList()},methods:{routerPush(t){this.$router.push({path:t})},async exchangeApiList(){const t=await this.$api.mine.exchangeApiList({offset:1,limit:10});t.success&&t.obj.records.length&&(this.API_info=t.obj.records[0])}}},R=F,q=(s("8087"),Object(f["a"])(R,V,B,!1,null,"cf806140",null)),D=q.exports,J={name:"account-overview",components:{HeaderBox:n["a"],UserInfo:y,Security:U,Ticket:W,APISet:D},data(){return{uploadImgUrl:""}},computed:{...Object(o["d"])({token:"token",userInfo:"userInfo"}),_c_avatar_src(){return"https://bandex-dev.oss-cn-shenzhen.aliyuncs.com/"+this.userInfo.avatar}},methods:{errorHandler(){return!0},updateAvatar(t){this.uploadImgUrl=t},copySuccess(){this.$notify({type:"success",message:this.$t("assets_copy_success_notify")})},copyError(){this.$notify({type:"error",message:this.$t("assets_copy_fail_notify")})}}},G=J,K=(s("43dc"),Object(f["a"])(G,a,i,!1,null,"3a3d3f3c",null));e["default"]=K.exports},8087:function(t,e,s){"use strict";s("b071")},"956a":function(t,e,s){},b071:function(t,e,s){},bb3a:function(t,e,s){},bf21:function(t,e,s){"use strict";s("e2a6")},d49e:function(t,e,s){"use strict";s("bb3a")},d8a6:function(t,e,s){},e2a6:function(t,e,s){},e335:function(t,e,s){t.exports=s.p+"img/list.e55dcec1.png"},f5f6:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-warp"},[t.$slots.avatar?t._t("avatar"):e("div",{staticClass:"pointer",on:{click:t.back}},[t.showBack?e("i",{staticClass:"el-icon-arrow-left pointer"}):t._e(),t._v(" "+t._s(t.title)+" ")])],2)},i=[],n=(s("14d9"),{name:"header-box",props:{title:{type:String,default:""},backUrl:{type:String,default:""},showBack:{type:Boolean,default:!1}},methods:{back(){this.$router.push(this.backUrl)}}}),r=n,c=(s("0134"),s("2877")),o=Object(c["a"])(r,a,i,!1,null,"5d389701",null);e["a"]=o.exports},fde1:function(t,e,s){}}]);