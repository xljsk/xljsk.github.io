(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-467597d8"],{"083a":function(e,t,s){"use strict";var a=s("0d51"),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+a(t)+" of "+a(e))}},"0895":function(e,t,s){},"1a77":function(e,t,s){"use strict";s("481b")},"1bc4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"post-warp"},[t("div",{staticClass:"content-box"},[t("div",{staticClass:"header-bark-box",on:{click:function(t){return e.$router.replace(`/community/community-post/${e.trendsData.trendsId}/${e.trendsData.trendsId}`)}}},[t("svg-icon",{attrs:{data_iconName:"return1",size:16,className:"header-bark-box-icon"}}),e._v(" "+e._s(e.$t("notice_copy_return")))],1),t("div",{staticClass:"post-main"},[t("div",{staticClass:"post"},[t("div",{staticClass:"personal"},[t("div",{staticClass:"personal-left"},[e.trendsData.userId?t("Avatar",{attrs:{avatarSize:30,isShowNickname:!0,userId:e.trendsData.userId,nicknameBoxStyle:" margin-left: 10px;",nicknameStyle:" font-size:14px;\n              font-weight: 500"}},[t("div",{attrs:{slot:"bottom"},slot:"bottom"},[t("div",{staticClass:"personal-style"},[e._v(e._s(e.$t("community_posted"))+e._s(e._f("relativeTime")(e.trendsData.created)))])])]):e._e()],1)]),t("div",{staticClass:"post-content"},[e._v(" "+e._s(e.trendsData.comment)+" ")]),t("div",{staticClass:"follow-like"},[t("div",{staticClass:"follow-like-left",on:{click:function(t){e.$throttle(()=>e.thumbsUp(e.trendsData))}}},[t("svg-icon",{style:"color: "+(e.trendsData.isUp?"#EDD44E":"var(--color-text-two)"),attrs:{data_iconName:"awesome",size:16}}),t("span",[e._v(e._s(e.trendsData.up))])],1)])]),t("div",{staticClass:"comment-box"},[t("div",{staticClass:"comment-input"},[t("Avatar",{attrs:{avatarSize:30,userId:e.userInfo.customerId}}),t("el-input",{staticStyle:{"margin-left":"10px"},attrs:{type:"textarea",rows:2,placeholder:e.$t("community_forward_evaluation"),resiz:"none",maxlength:"140"},on:{input:e.contentValue},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),t("div",{staticClass:"expression"},[t("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$throttle(e.insertIcon)}}},[t("svg-icon",{attrs:{data_iconName:"phiz1"}})],1),t("div",{staticClass:"send-box",on:{click:function(t){return e.$throttle(e.comment)}}},[e._v(e._s(e.$t("community_send")))]),e.expressionShow?t("div",{staticClass:"biaoqing-warp",on:{click:function(t){e.expressionShow=!1}}}):e._e(),e.expressionShow?t("div",{staticClass:"biaoqing-box"},e._l(e.faceList,(function(s,a){return t("div",{key:a,staticClass:"expression-box-item",on:{click:function(t){t.stopPropagation(),e.$throttle(()=>e.getBrow(a))}}},[e._v(" "+e._s(s)+" ")])})),0):e._e()])]),e._l(e.commentList,(function(s,a){return t("div",{key:a,staticClass:"expression-item-box",on:{click:function(t){return e.$router.replace(`/community/reply/${s.id}/${s.trendsId}`)}}},[t("div",{staticClass:"name-box"},[t("div",{staticClass:"portrait-box"},[t("Avatar",{attrs:{isShowNickname:!0,nicknameStyle:"font-size: 16px;font-weight: 500;line-height: 18px",avatarSize:30,userId:s.userId}})],1),s.userId==e.userInfo.customerId?t("DeletePost",{attrs:{deleteId:s.id,deleteType:2},on:{confirm:()=>{e.commentList.splice(a,1)}}}):t("Report",{attrs:{item:s,"is-post":!0}})],1),s.reComment&&s.parentCommentId!==e.trendsData.id?t("div",{staticClass:"comment-content",on:{click:function(t){return e.$router.replace(`/community/reply/${s.parentCommentId}/${s.trendsId}`)}}},[t("span",{staticStyle:{color:"#606266"}},[e._v(e._s(s.reNickName)+"：")]),e._v(e._s(s.reComment)+" ")]):e._e(),t("div",{staticClass:"expression-content",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(s.comment)+" ")]),t("div",{staticClass:"comment-botttom"},[t("div",{staticClass:"expression-but",on:{click:function(t){t.stopPropagation(),e.$throttle(()=>e.replicesComment(s))}}},[e._v(" "+e._s(e.$t("community_reply"))+" "+e._s(0==s.replies?"":s.replies)+" ")]),t("div",{staticClass:"thumbs-box",on:{click:function(t){t.stopPropagation(),e.$throttle(()=>e.thumbsUp(s))}}},[t("svg-icon",{style:"color: "+(s.isUp?"#EDD44E":"var(--color-text-two)"),attrs:{data_iconName:"awesome",size:16}}),t("div",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(s.up||0))])],1)])])}))],2),t("div",{staticClass:"load-more",on:{click:function(t){return t.stopPropagation(),e.getChildCommentList(!0)}}},[e._v(e._s(e.commentList.length>=e.pagination.total?e.$t("notice_copy_over"):e.$t("notice_copy_load_more"))+" ")])]),t("div",{staticClass:"right"},[t("HotPost")],1)])},i=[],o=(s("14d9"),s("3c65"),s("e671")),c=s("2f62"),r=s("1e28"),n={name:"community-reply",components:{HotPost:o["a"]},computed:{...Object(c["d"])(["userInfo","token"])},data(){return{isShowFollow:!1,expressionShow:!1,content:"",author:"",trendsData:{},id:this.$route.params.id,commentList:[],pagination:{page:1,size:10,total:null},isExpression:!1,isLoading:!1,faceList:[],parentComment:{}}},watch:{},mounted(){this.getCommentInfo(),this.getChildCommentList(),this.faceContent(),this.token&&this.isLikeComment(),window.onscroll=this.pageScroll},methods:{pageScroll(){let e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight,s=document.documentElement.clientHeight;e+s-t>=-600&&this.isLoading&&(this.isLoading=!1,this.getChildCommentList(!0))},async isLikeComment(){const e=await this.$api.community.checkIsLikeComment({commentIds:this.id});e.success&&this.$set(this.trendsData,"isUp",e.obj[this.id])},async isFollow(e,t){let s="cancelFollow";e||(s="follow");const a=await this.$api.community[s]({followUserId:t.userId});a.success&&this.$set(t,"isFollow",!e)},async checkIsFollow(e,t){const s=await this.$api.community.checkIsFollow({userIds:e});s.success&&this.$set(t,"isFollow",s.obj[e])},contentValue(e){if(!this.parentComment.nickName)return!1;-1===e.indexOf(this.parentComment.nickName+"：")&&(this.parentComment={})},getBrow(e){console.log(333);for(let t in this.faceList)e==t&&(this.content+=this.faceList[e]);this.expressionShow=!1},insertIcon(){this.expressionShow=!0},faceContent(){for(let e in r)this.faceList.push(r[e].char)},replicesComment(e){this.parentComment=e,this.content=e.nickName+"："},async comment(){if(!this.token)return this.$router.push("/login");let e=this.content;if(this.parentComment.id&&(e=this.content.replace(this.parentComment.nickName+"：","")),!e.trim())return this.$notify({message:this.$t("community_enter_content"),type:"warning"});const t=await this.$api.community.comment({trendsId:this.$route.params.trendsIds,comment:e,replyUserId:this.parentComment.userId||this.trendsData.userId,commentType:2,parentCommentId:this.parentComment.id||this.id,storeyId:this.id});t.success&&(t.obj.avatar=this.userInfo.avatar,t.obj.nickName=this.userInfo.nickNameOtc,console.log(t.obj),this.commentList.unshift(t.obj),this.commentList.map(e=>{e.id===t.obj.parentCommentId&&e.replies++}),this.trendsData.replies++,this.content="",this.$notify({message:this.$t(t.code),type:"success"}))},async thumbsUp(e){if(!this.token)return this.$router.push("/login");let t="communityLike";e.isUp&&(t="cancelLike");const s=await this.$api.community[t]({trendsId:e.trendsId,commentId:e.id,likeType:1,likeObj:2});s.success&&(this.$set(e,"isUp",!e.isUp),this.$set(e,"up",e.isUp?e.up+1:e.up-1),e.isUp?this.$notify({message:this.$t("community_liked_successfully"),type:"success"}):this.$notify({message:this.$t("community_cancel_success"),type:"success"}))},async getCommentInfo(){const e=await this.$api.community.getCommentInfo({commentId:this.id});e.success&&(this.trendsData=e.obj.data[0],this.trendsData.userId!==this.userInfo.customerId&&(this.isShowFollow=!0,this.token&&this.checkIsFollow(this.trendsData.userId,this.trendsData)))},async checkIsLikeComment(e){let t=[];e.map(e=>{t.push(e.id)}),t=JSON.stringify(t),t=t.substr(0,t.length-1),t=t.substr(1,t.length-1);const s=await this.$api.community.checkIsLikeComment({commentIds:t});s.success&&e.map(e=>{this.$set(e,"isUp",s.obj[e.id])})},async getChildCommentList(e){if(e){if(this.pagination.total===this.commentList.length)return!1;this.pagination.page++}else this.pagination.page=1;const t=await this.$api.community.getSonCommentList({commentId:this.id,page:this.pagination.page,size:this.pagination.size});t.success&&(this.isLoading=!0,this.commentList=e?[...this.commentList,...t.obj.data]:t.obj.data,t.obj.data.length>0&&this.token&&this.checkIsLikeComment(this.commentList),this.pagination.total=t.obj.totalRows)}}},l=n,p=(s("cef6"),s("1a77"),s("2877")),h=Object(p["a"])(l,a,i,!1,null,"1f345350",null);t["default"]=h.exports},"1e28":function(e){e.exports=JSON.parse('{"grinning":{"keywords":["face","smile","happy","joy",":D","grin"],"char":"😀","fitzpatrick_scale":false,"category":"people"},"grin":{"keywords":["face","happy","smile","joy","kawaii"],"char":"😁","fitzpatrick_scale":false,"category":"people"},"smiley":{"keywords":["face","happy","joy","haha",":D",":)","smile","funny"],"char":"😃","fitzpatrick_scale":false,"category":"people"},"smile":{"keywords":["face","happy","joy","funny","haha","laugh","like",":D",":)"],"char":"😄","fitzpatrick_scale":false,"category":"people"},"sweat_smile":{"keywords":["face","hot","happy","laugh","sweat","smile","relief"],"char":"😅","fitzpatrick_scale":false,"category":"people"},"laughing":{"keywords":["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],"char":"😆","fitzpatrick_scale":false,"category":"people"},"innocent":{"keywords":["face","angel","heaven","halo"],"char":"😇","fitzpatrick_scale":false,"category":"people"},"wink":{"keywords":["face","happy","mischievous","secret",";)","smile","eye"],"char":"😉","fitzpatrick_scale":false,"category":"people"},"blush":{"keywords":["face","smile","happy","flushed","crush","embarrassed","shy","joy"],"char":"😊","fitzpatrick_scale":false,"category":"people"},"slightly_smiling_face":{"keywords":["face","smile"],"char":"🙂","fitzpatrick_scale":false,"category":"people"},"yum":{"keywords":["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],"char":"😋","fitzpatrick_scale":false,"category":"people"},"heart_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","crush","heart"],"char":"😍","fitzpatrick_scale":false,"category":"people"},"kissing_heart":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"😘","fitzpatrick_scale":false,"category":"people"},"kissing":{"keywords":["love","like","face","3","valentines","infatuation","kiss"],"char":"😗","fitzpatrick_scale":false,"category":"people"},"kissing_smiling_eyes":{"keywords":["face","affection","valentines","infatuation","kiss"],"char":"😙","fitzpatrick_scale":false,"category":"people"},"kissing_closed_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"😚","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_winking_eye":{"keywords":["face","prank","childish","playful","mischievous","smile","wink","tongue"],"char":"😜","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_closed_eyes":{"keywords":["face","prank","playful","mischievous","smile","tongue"],"char":"😝","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue":{"keywords":["face","prank","childish","playful","mischievous","smile","tongue"],"char":"😛","fitzpatrick_scale":false,"category":"people"},"sunglasses":{"keywords":["face","cool","smile","summer","beach","sunglass"],"char":"😎","fitzpatrick_scale":false,"category":"people"},"roll_eyes":{"keywords":["face","eyeroll","frustrated"],"char":"🙄","fitzpatrick_scale":false,"category":"people"},"flushed":{"keywords":["face","blush","shy","flattered"],"char":"😳","fitzpatrick_scale":false,"category":"people"},"rage":{"keywords":["angry","mad","hate","despise"],"char":"😡","fitzpatrick_scale":false,"category":"people"},"confused":{"keywords":["face","indifference","huh","weird","hmmm",":/"],"char":"😕","fitzpatrick_scale":false,"category":"people"},"tired_face":{"keywords":["sick","whine","upset","frustrated"],"char":"😫","fitzpatrick_scale":false,"category":"people"},"triumph":{"keywords":["face","gas","phew","proud","pride"],"char":"😤","fitzpatrick_scale":false,"category":"people"},"fearful":{"keywords":["face","scared","terrified","nervous","oops","huh"],"char":"😨","fitzpatrick_scale":false,"category":"people"},"disappointed_relieved":{"keywords":["face","phew","sweat","nervous"],"char":"😥","fitzpatrick_scale":false,"category":"people"},"sleepy":{"keywords":["face","tired","rest","nap"],"char":"😪","fitzpatrick_scale":false,"category":"people"},"sweat":{"keywords":["face","hot","sad","tired","exercise"],"char":"😓","fitzpatrick_scale":false,"category":"people"},"dizzy_face":{"keywords":["spent","unconscious","xox","dizzy"],"char":"😵","fitzpatrick_scale":false,"category":"people"},"astonished":{"keywords":["face","xox","surprised","poisoned"],"char":"😲","fitzpatrick_scale":false,"category":"people"},"sneezing_face":{"keywords":["face","gesundheit","sneeze","sick","allergy"],"char":"🤧","fitzpatrick_scale":false,"category":"people"},"mask":{"keywords":["face","sick","ill","disease"],"char":"😷","fitzpatrick_scale":false,"category":"people"},"face_with_thermometer":{"keywords":["sick","temperature","thermometer","cold","fever"],"char":"🤒","fitzpatrick_scale":false,"category":"people"},"face_with_head_bandage":{"keywords":["injured","clumsy","bandage","hurt"],"char":"🤕","fitzpatrick_scale":false,"category":"people"},"sleeping":{"keywords":["face","tired","sleepy","night","zzz"],"char":"😴","fitzpatrick_scale":false,"category":"people"},"zzz":{"keywords":["sleepy","tired","dream"],"char":"💤","fitzpatrick_scale":false,"category":"people"},"clap":{"keywords":["hands","praise","applause","congrats","yay"],"char":"👏","fitzpatrick_scale":true,"category":"people"},"call_me_hand":{"keywords":["hands","gesture"],"char":"🤙","fitzpatrick_scale":true,"category":"people"},"+1":{"keywords":["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"char":"👍","fitzpatrick_scale":true,"category":"people"},"-1":{"keywords":["thumbsdown","no","dislike","hand"],"char":"👎","fitzpatrick_scale":true,"category":"people"},"facepunch":{"keywords":["angry","violence","fist","hit","attack","hand"],"char":"👊","fitzpatrick_scale":true,"category":"people"},"fist":{"keywords":["fingers","hand","grasp"],"char":"✊","fitzpatrick_scale":true,"category":"people"},"v":{"keywords":["fingers","ohyeah","hand","peace","victory","two"],"char":"✌","fitzpatrick_scale":true,"category":"people"},"ok_hand":{"keywords":["fingers","limbs","perfect","ok","okay"],"char":"👌","fitzpatrick_scale":true,"category":"people"},"raised_hand":{"keywords":["fingers","stop","highfive","palm","ban"],"char":"✋","fitzpatrick_scale":true,"category":"people"},"raised_back_of_hand":{"keywords":["fingers","raised","backhand"],"char":"🤚","fitzpatrick_scale":true,"category":"people"},"muscle":{"keywords":["arm","flex","hand","summer","strong","biceps"],"char":"💪","fitzpatrick_scale":true,"category":"people"},"handshake":{"keywords":["agreement","shake"],"char":"🤝","fitzpatrick_scale":false,"category":"people"},"point_left":{"keywords":["direction","fingers","hand","left"],"char":"👈","fitzpatrick_scale":true,"category":"people"},"point_right":{"keywords":["fingers","hand","direction","right"],"char":"👉","fitzpatrick_scale":true,"category":"people"},"fu":{"keywords":["hand","fingers","rude","middle","flipping"],"char":"🖕","fitzpatrick_scale":true,"category":"people"},"raised_hand_with_fingers_splayed":{"keywords":["hand","fingers","palm"],"char":"🖐","fitzpatrick_scale":true,"category":"people"},"lips":{"keywords":["mouth","kiss"],"char":"👄","fitzpatrick_scale":false,"category":"people"},"ear":{"keywords":["face","hear","sound","listen"],"char":"👂","fitzpatrick_scale":true,"category":"people"},"eyes":{"keywords":["look","watch","stalk","peek","see"],"char":"👀","fitzpatrick_scale":false,"category":"people"},"santa":{"keywords":["festival","man","male","xmas","father christmas"],"char":"🎅","fitzpatrick_scale":true,"category":"people"},"sun_with_face":{"keywords":["nature","morning","sky"],"char":"🌞","fitzpatrick_scale":false,"category":"animals_and_nature"},"crescent_moon":{"keywords":["night","sleep","sky","evening","magic"],"char":"🌙","fitzpatrick_scale":false,"category":"animals_and_nature"},"star":{"keywords":["night","yellow"],"char":"⭐","fitzpatrick_scale":false,"category":"animals_and_nature"},"zap":{"keywords":["thunder","weather","lightning bolt","fast"],"char":"⚡","fitzpatrick_scale":false,"category":"animals_and_nature"},"fire":{"keywords":["hot","cook","flame"],"char":"🔥","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowflake":{"keywords":["winter","season","cold","weather","christmas","xmas"],"char":"❄️","fitzpatrick_scale":false,"category":"animals_and_nature"},"soccer":{"keywords":["sports","football"],"char":"⚽","fitzpatrick_scale":false,"category":"activity"},"basketball":{"keywords":["sports","balls","NBA"],"char":"🏀","fitzpatrick_scale":false,"category":"activity"},"football":{"keywords":["sports","balls","NFL"],"char":"🏈","fitzpatrick_scale":false,"category":"activity"},"baseball":{"keywords":["sports","balls"],"char":"⚾","fitzpatrick_scale":false,"category":"activity"},"gift":{"keywords":["present","birthday","christmas","xmas"],"char":"🎁","fitzpatrick_scale":false,"category":"objects"},"tada":{"keywords":["party","congratulations","birthday","magic","circus","celebration"],"char":"🎉","fitzpatrick_scale":false,"category":"objects"},"black_nib":{"keywords":["pen","stationery","writing","write"],"char":"✒️","fitzpatrick_scale":false,"category":"objects"},"memo":{"keywords":["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],"char":"📝","fitzpatrick_scale":false,"category":"objects"},"heart":{"keywords":["love","like","valentines"],"char":"❤️","fitzpatrick_scale":false,"category":"symbols"},"yellow_heart":{"keywords":["love","like","affection","valentines"],"char":"💛","fitzpatrick_scale":false,"category":"symbols"},"green_heart":{"keywords":["love","like","affection","valentines"],"char":"💚","fitzpatrick_scale":false,"category":"symbols"},"vs":{"keywords":["words","orange-square"],"char":"🆚","fitzpatrick_scale":false,"category":"symbols"},"speech_balloon":{"keywords":["bubble","words","message","talk","chatting"],"char":"💬","fitzpatrick_scale":false,"category":"symbols"},"clock1":{"keywords":["time","late","early","schedule"],"char":"🕐","fitzpatrick_scale":false,"category":"symbols"}}')},"3c65":function(e,t,s){"use strict";var a=s("23e7"),i=s("7b0b"),o=s("07fa"),c=s("3a34"),r=s("083a"),n=s("3511"),l=1!==[].unshift(0),p=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},h=l||!p();a({target:"Array",proto:!0,arity:1,forced:h},{unshift:function(e){var t=i(this),s=o(t),a=arguments.length;if(a){n(s+a);var l=s;while(l--){var p=l+a;l in t?t[p]=t[l]:r(t,p)}for(var h=0;h<a;h++)t[h]=arguments[h]}return c(t,s+a)}})},"481b":function(e,t,s){},aaeb:function(e,t,s){},cef6:function(e,t,s){"use strict";s("aaeb")},e335:function(e,t,s){e.exports=s.p+"img/list.e55dcec1.png"},e671:function(e,t,s){"use strict";s("14d9");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hot"},[t("div",{staticClass:"hot-title"},[e._v(e._s(e.$t("community_popular_posts")))]),t("div",{staticClass:"hot-box"},[e._l(e.showList,(function(s){return t("div",{key:s.id,staticClass:"hot-list",on:{click:function(t){return e.$router.push(`/community/community-post/${s.id}/${s.author}`)}}},[t("div",{staticClass:"hot-list-left"},[s.content||s.videoUrl||s.urls?t("div",{staticClass:"hot-list-content",class:{defalut:s.videoUrl||s.urls}},[t("EditParse",{attrs:{content:s.content,textStyle:"font-size:14px;line-height: 16px",boxClass:"textSlice"}})],1):e._e(),s.attachContent&&e.handleLink(s.attachContent).title?t("div",{staticClass:"hot-list-content"},[e._v(e._s(e.handleLink(s.attachContent).title))]):e._e(),s.attachContent&&""==e.handleLink(s.attachContent).title?t("div",{staticClass:"hot-list-content"},[e._v(e._s(s.href))]):e._e(),t("div",{staticClass:"hot-list-author"},[t("div",{staticStyle:{"font-weight":"700"}},[e._v(e._s(e.$t("community_author"))+"："+e._s(s.nickName))]),t("div",{staticClass:"hot-list-author-time"},[e._v(e._s(e.$dayjs(s.created).format("YYYY/MM/DD")))])])]),t("div",{staticClass:"hot-list-right"},[s.urls?t("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:s.urls[0],fit:"fit"}}):e._e(),s.attachContent&&e.handleLink(s.attachContent).imgUrl?t("img",{staticClass:"link-img",attrs:{src:e.handleLink(s.attachContent).imgUrl}}):e._e(),s.videoUrl?t("div",{staticClass:"post-video"},[t("video",{staticClass:"video",attrs:{src:s.videoUrl}},[e._v(" "+e._s(e.$t("community_support_video"))+" ")]),t("svg-icon",{class:{select:s.isLike},attrs:{data_iconName:"play",className:"video-icon",size:24}})],1):e._e()],1)])})),0==e.showList.length?t("el-empty",{attrs:{image:s("e335"),"image-size":133,description:e.$t("notice_no_data")}}):e._e()],2)])},i=[],o={name:"WorkspaceJsonHotPost",data(){return{prefixUrl:"https://bandex-dev.oss-cn-shenzhen.aliyuncs.com",page:1,size:5,totalRows:0,showList:[]}},mounted(){this.getTrendsListByHot()},methods:{async getTrendsListByHot(){try{const e=await this.$api.community.getTrendsListByHot({page:this.page,size:this.size});if(e.success&&e.obj.data){let t=e.obj.data;this.totalRows=e.obj.totalRows,t.length>0&&this.handleData(t),this.page*this.size<=this.totalRows&&(this.page=this.page+1)}}catch(e){this.$handleError.handleApiRequestException(e)}},async handleData(e){e.forEach(e=>{if(e.attachContent){let t=JSON.parse(e.attachContent),s=[];t&&(t.map(t=>{1===t.type&&(e.href=this.$utils.decodeURIComponentSafely(t.url)),2===t.type&&s.push(this.prefixUrl+"/"+t.url),3===t.type&&(e.videoUrl=t.url)}),s.length&&(e.urls=s))}}),e.length>0&&(this.showList=this.showList.concat(e))},handleLink(e){try{const t=JSON.parse(e),s=t[0];return s.urlWebCard?s.urlWebCard:{}}catch(t){return console.warn(t),{}}}}},c=o,r=(s("ffa3"),s("2877")),n=Object(r["a"])(c,a,i,!1,null,"6032f85c",null);t["a"]=n.exports},ffa3:function(e,t,s){"use strict";s("0895")}}]);