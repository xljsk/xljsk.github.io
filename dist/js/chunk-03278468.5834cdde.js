(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03278468"],{"998d":function(t,e,s){},b18f:function(t,e,s){"use strict";s("998d")},b232:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"content"},[e("div",{staticClass:"top"},[e("div",{staticClass:"top-left"},[t._v(t._s(t.$t("toast_all",[t.total])))])]),t.list.length?e("div",{staticClass:"list-wrap"},t._l(t.list,(function(s,a){return e("el-badge",{key:a,attrs:{value:s.alreadyRead?"":"new"}},[e("div",{staticClass:"item"},[e("div",{staticClass:"title-wrap"},[e("div",{staticClass:"main"},[t._v(" "+t._s(t.$t("toast_reserve_live",[t.parseData(s.msgBody,"theme")]))+" ")]),e("div",{staticClass:"btn pointer",on:{click:function(e){return t.handleNotice(s)}}},[t._v(t._s(t.$t("toast_noData_see")))])]),e("div",{staticClass:"desc-wrap"},[t._v(" "+t._s(t.parseData(s.msgBody,"description"))+" ")]),e("el-image",{attrs:{fit:"cover",src:`${t.$getEnv("VUE_APP_ALIOSS_URL")}/${t.parseData(s.msgBody,"cover")}`}})],1)])})),1):e("el-empty",{attrs:{image:s("e335"),description:t.$t("notice_no_data"),"image-size":133}})],1),e("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":t.pageForm.pageSize,"hide-on-single-page":!t.list.length},on:{"current-change":t.handleCurrentChange}})],1)},i=[],o=(s("14d9"),{name:"live",props:{},data(){return{pageForm:{outMsgType:"LIVE_SHOW",pageSize:10,pageNo:1},list:[],total:0}},computed:{},watch:{},mounted(){this.listByPage()},destroyed(){},methods:{handleCurrentChange(t){console.log("handleCurrentChange+++",t),this.pageForm.pageNo=t,this.listByPage()},async listByPage(){const t=await this.$api.notice.listByPage({outMsgType:this.pageForm.outMsgType,pageSize:this.pageForm.pageSize,pageNo:this.pageForm.pageNo});console.log("listByPage+++",t),t.success&&(this.list=t.obj.obj,this.total=t.obj.total)},async notifyRead(t){const e=await this.$api.notice.notifyRead({ids:t});return!!e.success},async getLiveInfo(t){const e=await this.$api.live.getLiveInfo({liveId:t});e.success&&(console.log("getLiveInfo+++",e),4===e.obj.status&&this.$router.push({path:"/live-room",query:{conversationId:e.obj.conversationId,creator:e.obj.creator,id:e.obj.id,type:"history"}}),1===e.obj.status&&this.$router.push({path:"/live-room",query:{conversationId:e.obj.conversationId,creator:e.obj.creator,id:e.obj.id,type:"live"}}),3===e.obj.status.status&&this.$router.push({path:"/live",query:{liveId:t,status:3}}),2===e.obj.status&&this.$notify({message:this.$t("live_cancel"),type:"error"}))},async handleNotice(t){console.log("handleNotice+++");const e=this.parseData(t.msgBody,"id");await this.notifyRead(t.id)&&this.getLiveInfo(e)},parseData(t,e){return JSON.parse(t)[e]}}}),n=o,r=(s("b18f"),s("2877")),l=Object(r["a"])(n,a,i,!1,null,"762cf74a",null);e["default"]=l.exports},e335:function(t,e,s){t.exports=s.p+"img/list.e55dcec1.png"}}]);