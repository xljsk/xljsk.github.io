(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f319262"],{"083a":function(e,t,a){"use strict";var s=a("0d51"),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+s(t)+" of "+s(e))}},"1e28":function(e){e.exports=JSON.parse('{"grinning":{"keywords":["face","smile","happy","joy",":D","grin"],"char":"ğŸ˜€","fitzpatrick_scale":false,"category":"people"},"grin":{"keywords":["face","happy","smile","joy","kawaii"],"char":"ğŸ˜","fitzpatrick_scale":false,"category":"people"},"smiley":{"keywords":["face","happy","joy","haha",":D",":)","smile","funny"],"char":"ğŸ˜ƒ","fitzpatrick_scale":false,"category":"people"},"smile":{"keywords":["face","happy","joy","funny","haha","laugh","like",":D",":)"],"char":"ğŸ˜„","fitzpatrick_scale":false,"category":"people"},"sweat_smile":{"keywords":["face","hot","happy","laugh","sweat","smile","relief"],"char":"ğŸ˜…","fitzpatrick_scale":false,"category":"people"},"laughing":{"keywords":["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],"char":"ğŸ˜†","fitzpatrick_scale":false,"category":"people"},"innocent":{"keywords":["face","angel","heaven","halo"],"char":"ğŸ˜‡","fitzpatrick_scale":false,"category":"people"},"wink":{"keywords":["face","happy","mischievous","secret",";)","smile","eye"],"char":"ğŸ˜‰","fitzpatrick_scale":false,"category":"people"},"blush":{"keywords":["face","smile","happy","flushed","crush","embarrassed","shy","joy"],"char":"ğŸ˜Š","fitzpatrick_scale":false,"category":"people"},"slightly_smiling_face":{"keywords":["face","smile"],"char":"ğŸ™‚","fitzpatrick_scale":false,"category":"people"},"yum":{"keywords":["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],"char":"ğŸ˜‹","fitzpatrick_scale":false,"category":"people"},"heart_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","crush","heart"],"char":"ğŸ˜","fitzpatrick_scale":false,"category":"people"},"kissing_heart":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"ğŸ˜˜","fitzpatrick_scale":false,"category":"people"},"kissing":{"keywords":["love","like","face","3","valentines","infatuation","kiss"],"char":"ğŸ˜—","fitzpatrick_scale":false,"category":"people"},"kissing_smiling_eyes":{"keywords":["face","affection","valentines","infatuation","kiss"],"char":"ğŸ˜™","fitzpatrick_scale":false,"category":"people"},"kissing_closed_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"ğŸ˜š","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_winking_eye":{"keywords":["face","prank","childish","playful","mischievous","smile","wink","tongue"],"char":"ğŸ˜œ","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_closed_eyes":{"keywords":["face","prank","playful","mischievous","smile","tongue"],"char":"ğŸ˜","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue":{"keywords":["face","prank","childish","playful","mischievous","smile","tongue"],"char":"ğŸ˜›","fitzpatrick_scale":false,"category":"people"},"sunglasses":{"keywords":["face","cool","smile","summer","beach","sunglass"],"char":"ğŸ˜","fitzpatrick_scale":false,"category":"people"},"roll_eyes":{"keywords":["face","eyeroll","frustrated"],"char":"ğŸ™„","fitzpatrick_scale":false,"category":"people"},"flushed":{"keywords":["face","blush","shy","flattered"],"char":"ğŸ˜³","fitzpatrick_scale":false,"category":"people"},"rage":{"keywords":["angry","mad","hate","despise"],"char":"ğŸ˜¡","fitzpatrick_scale":false,"category":"people"},"confused":{"keywords":["face","indifference","huh","weird","hmmm",":/"],"char":"ğŸ˜•","fitzpatrick_scale":false,"category":"people"},"tired_face":{"keywords":["sick","whine","upset","frustrated"],"char":"ğŸ˜«","fitzpatrick_scale":false,"category":"people"},"triumph":{"keywords":["face","gas","phew","proud","pride"],"char":"ğŸ˜¤","fitzpatrick_scale":false,"category":"people"},"fearful":{"keywords":["face","scared","terrified","nervous","oops","huh"],"char":"ğŸ˜¨","fitzpatrick_scale":false,"category":"people"},"disappointed_relieved":{"keywords":["face","phew","sweat","nervous"],"char":"ğŸ˜¥","fitzpatrick_scale":false,"category":"people"},"sleepy":{"keywords":["face","tired","rest","nap"],"char":"ğŸ˜ª","fitzpatrick_scale":false,"category":"people"},"sweat":{"keywords":["face","hot","sad","tired","exercise"],"char":"ğŸ˜“","fitzpatrick_scale":false,"category":"people"},"dizzy_face":{"keywords":["spent","unconscious","xox","dizzy"],"char":"ğŸ˜µ","fitzpatrick_scale":false,"category":"people"},"astonished":{"keywords":["face","xox","surprised","poisoned"],"char":"ğŸ˜²","fitzpatrick_scale":false,"category":"people"},"sneezing_face":{"keywords":["face","gesundheit","sneeze","sick","allergy"],"char":"ğŸ¤§","fitzpatrick_scale":false,"category":"people"},"mask":{"keywords":["face","sick","ill","disease"],"char":"ğŸ˜·","fitzpatrick_scale":false,"category":"people"},"face_with_thermometer":{"keywords":["sick","temperature","thermometer","cold","fever"],"char":"ğŸ¤’","fitzpatrick_scale":false,"category":"people"},"face_with_head_bandage":{"keywords":["injured","clumsy","bandage","hurt"],"char":"ğŸ¤•","fitzpatrick_scale":false,"category":"people"},"sleeping":{"keywords":["face","tired","sleepy","night","zzz"],"char":"ğŸ˜´","fitzpatrick_scale":false,"category":"people"},"zzz":{"keywords":["sleepy","tired","dream"],"char":"ğŸ’¤","fitzpatrick_scale":false,"category":"people"},"clap":{"keywords":["hands","praise","applause","congrats","yay"],"char":"ğŸ‘","fitzpatrick_scale":true,"category":"people"},"call_me_hand":{"keywords":["hands","gesture"],"char":"ğŸ¤™","fitzpatrick_scale":true,"category":"people"},"+1":{"keywords":["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"char":"ğŸ‘","fitzpatrick_scale":true,"category":"people"},"-1":{"keywords":["thumbsdown","no","dislike","hand"],"char":"ğŸ‘","fitzpatrick_scale":true,"category":"people"},"facepunch":{"keywords":["angry","violence","fist","hit","attack","hand"],"char":"ğŸ‘Š","fitzpatrick_scale":true,"category":"people"},"fist":{"keywords":["fingers","hand","grasp"],"char":"âœŠ","fitzpatrick_scale":true,"category":"people"},"v":{"keywords":["fingers","ohyeah","hand","peace","victory","two"],"char":"âœŒ","fitzpatrick_scale":true,"category":"people"},"ok_hand":{"keywords":["fingers","limbs","perfect","ok","okay"],"char":"ğŸ‘Œ","fitzpatrick_scale":true,"category":"people"},"raised_hand":{"keywords":["fingers","stop","highfive","palm","ban"],"char":"âœ‹","fitzpatrick_scale":true,"category":"people"},"raised_back_of_hand":{"keywords":["fingers","raised","backhand"],"char":"ğŸ¤š","fitzpatrick_scale":true,"category":"people"},"muscle":{"keywords":["arm","flex","hand","summer","strong","biceps"],"char":"ğŸ’ª","fitzpatrick_scale":true,"category":"people"},"handshake":{"keywords":["agreement","shake"],"char":"ğŸ¤","fitzpatrick_scale":false,"category":"people"},"point_left":{"keywords":["direction","fingers","hand","left"],"char":"ğŸ‘ˆ","fitzpatrick_scale":true,"category":"people"},"point_right":{"keywords":["fingers","hand","direction","right"],"char":"ğŸ‘‰","fitzpatrick_scale":true,"category":"people"},"fu":{"keywords":["hand","fingers","rude","middle","flipping"],"char":"ğŸ–•","fitzpatrick_scale":true,"category":"people"},"raised_hand_with_fingers_splayed":{"keywords":["hand","fingers","palm"],"char":"ğŸ–","fitzpatrick_scale":true,"category":"people"},"lips":{"keywords":["mouth","kiss"],"char":"ğŸ‘„","fitzpatrick_scale":false,"category":"people"},"ear":{"keywords":["face","hear","sound","listen"],"char":"ğŸ‘‚","fitzpatrick_scale":true,"category":"people"},"eyes":{"keywords":["look","watch","stalk","peek","see"],"char":"ğŸ‘€","fitzpatrick_scale":false,"category":"people"},"santa":{"keywords":["festival","man","male","xmas","father christmas"],"char":"ğŸ…","fitzpatrick_scale":true,"category":"people"},"sun_with_face":{"keywords":["nature","morning","sky"],"char":"ğŸŒ","fitzpatrick_scale":false,"category":"animals_and_nature"},"crescent_moon":{"keywords":["night","sleep","sky","evening","magic"],"char":"ğŸŒ™","fitzpatrick_scale":false,"category":"animals_and_nature"},"star":{"keywords":["night","yellow"],"char":"â­","fitzpatrick_scale":false,"category":"animals_and_nature"},"zap":{"keywords":["thunder","weather","lightning bolt","fast"],"char":"âš¡","fitzpatrick_scale":false,"category":"animals_and_nature"},"fire":{"keywords":["hot","cook","flame"],"char":"ğŸ”¥","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowflake":{"keywords":["winter","season","cold","weather","christmas","xmas"],"char":"â„ï¸","fitzpatrick_scale":false,"category":"animals_and_nature"},"soccer":{"keywords":["sports","football"],"char":"âš½","fitzpatrick_scale":false,"category":"activity"},"basketball":{"keywords":["sports","balls","NBA"],"char":"ğŸ€","fitzpatrick_scale":false,"category":"activity"},"football":{"keywords":["sports","balls","NFL"],"char":"ğŸˆ","fitzpatrick_scale":false,"category":"activity"},"baseball":{"keywords":["sports","balls"],"char":"âš¾","fitzpatrick_scale":false,"category":"activity"},"gift":{"keywords":["present","birthday","christmas","xmas"],"char":"ğŸ","fitzpatrick_scale":false,"category":"objects"},"tada":{"keywords":["party","congratulations","birthday","magic","circus","celebration"],"char":"ğŸ‰","fitzpatrick_scale":false,"category":"objects"},"black_nib":{"keywords":["pen","stationery","writing","write"],"char":"âœ’ï¸","fitzpatrick_scale":false,"category":"objects"},"memo":{"keywords":["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],"char":"ğŸ“","fitzpatrick_scale":false,"category":"objects"},"heart":{"keywords":["love","like","valentines"],"char":"â¤ï¸","fitzpatrick_scale":false,"category":"symbols"},"yellow_heart":{"keywords":["love","like","affection","valentines"],"char":"ğŸ’›","fitzpatrick_scale":false,"category":"symbols"},"green_heart":{"keywords":["love","like","affection","valentines"],"char":"ğŸ’š","fitzpatrick_scale":false,"category":"symbols"},"vs":{"keywords":["words","orange-square"],"char":"ğŸ†š","fitzpatrick_scale":false,"category":"symbols"},"speech_balloon":{"keywords":["bubble","words","message","talk","chatting"],"char":"ğŸ’¬","fitzpatrick_scale":false,"category":"symbols"},"clock1":{"keywords":["time","late","early","schedule"],"char":"ğŸ•","fitzpatrick_scale":false,"category":"symbols"}}')},"3c65":function(e,t,a){"use strict";var s=a("23e7"),i=a("7b0b"),r=a("07fa"),o=a("3a34"),c=a("083a"),n=a("3511"),l=1!==[].unshift(0),p=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},h=l||!p();s({target:"Array",proto:!0,arity:1,forced:h},{unshift:function(e){var t=i(this),a=r(t),s=arguments.length;if(s){n(a+s);var l=a;while(l--){var p=l+s;l in t?t[p]=t[l]:c(t,p)}for(var h=0;h<s;h++)t[h]=arguments[h]}return o(t,a+s)}})},6503:function(e,t,a){},9169:function(e,t,a){"use strict";a("6503")},cc56:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"post-warp"},[t("div",{staticClass:"content-box"},[t("div",{staticClass:"header-bark-box"},[t("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$router.back(-1)}}},[t("svg-icon",{attrs:{data_iconName:"return1",size:16,className:"header-bark-box-icon"}}),e._v(" "+e._s(e.$t("notice_copy_return"))+" ")],1)]),t("div",{staticStyle:{"padding-bottom":"20px","margin-top":"20px",background:"var(--color-content-bg)","border-radius":"8px"}},[t("Post",{attrs:{item:e.trendsData},on:{handle:e.handle}}),t("div",{staticClass:"comment-box"},[t("div",{staticClass:"comment-input"},[t("Avatar",{attrs:{avatarSize:30,userId:e.userInfo.customerId}}),t("el-input",{staticStyle:{"margin-left":"10px"},attrs:{type:"textarea",rows:2,placeholder:e.$t("community_forward_evaluation"),resiz:"none",maxlength:"140"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),t("div",{staticClass:"expression"},[t("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$throttle(e.insertIcon)}}},[t("svg-icon",{attrs:{data_iconName:"phiz1"}})],1),t("div",{staticClass:"send-box",on:{click:function(t){return e.$throttle(e.comment)}}},[e._v(e._s(e.$t("community_send")))]),e.expressionShow?t("div",{staticClass:"biaoqing-warp",on:{click:function(t){e.expressionShow=!1}}}):e._e(),e.expressionShow?t("div",{staticClass:"biaoqing-box"},e._l(e.faceList,(function(a,s){return t("div",{key:s,staticClass:"expression-box-item",on:{click:function(t){t.stopPropagation(),e.$throttle(()=>e.getBrow(s))}}},[e._v(" "+e._s(a)+" ")])})),0):e._e()])]),e._l(e.commentList,(function(a,s){return t("div",{key:s,staticClass:"expression-item-box",on:{click:function(t){return e.$router.replace(`/community/reply/${a.id}/${a.trendsId}`)}}},[t("div",{staticClass:"name-box"},[t("Avatar",{attrs:{isShowNickname:!0,nicknameStyle:"font-size: 14px;font-weight: 500;line-height: 18px",avatarSize:30,userId:a.userId}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.token,expression:"token"}]},[a.userId==e.userInfo.customerId?t("DeletePost",{attrs:{deleteId:a.id,deleteType:2},on:{confirm:function(t){return e.confirm(s)}}}):t("Report",{attrs:{item:a,"is-post":!1}})],1)],1),a.reComment?t("div",{staticClass:"comment-content",on:{click:function(t){t.stopPropagation(),e.$throttle(()=>e.commentStop(a))}}},[3!=a.reStatus?t("div",[t("span",{staticStyle:{color:"var(--color-text-one)"}},[e._v(e._s(a.reNickName)+"ï¼š")]),e._v(e._s(a.reComment))]):t("span",[e._v(e._s(e.$t("community_comment_deleted")))])]):e._e(),t("div",{staticClass:"expression-content",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(a.comment)+" ")]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"expression-but"},[e._v(" "+e._s(e.$t("community_reply"))+" "+e._s(0==a.replies?"":a.replies))]),t("div",{staticClass:"thumbs-box",on:{click:function(t){t.stopPropagation(),e.$throttle(()=>e.thumbsUp(a))}}},[t("svg-icon",{style:"color: "+(a.isUp?"var(--color-base)":"var(--color-text-two)"),attrs:{data_iconName:"awesome",size:16}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(a.up||0))])],1)])])}))],2),t("div",{staticClass:"load-more"},[e._v(" "+e._s(e.commentList.length>=e.pagination.total?e.$t("notice_copy_over"):e.$t("notice_copy_load_more"))+" ")])]),t("div",{staticClass:"right"},[t("SearchHot"),e.author?void 0:e._e(),t("HotPost")],2)])},i=[],r=(a("14d9"),a("3c65"),a("1943")),o=a("e671"),c=a("bd46"),n=a("2f62"),l=a("1e28"),p={name:"WorkspaceJsonPostList",components:{SearchHot:r["a"],Post:c["a"],HotPost:o["a"]},computed:{...Object(n["d"])(["userInfo","token"])},data(){return{expressionShow:!1,prefixUrl:"https://bandex-dev.oss-cn-shenzhen.aliyuncs.com",content:"",author:"",trendsData:{},id:this.$route.params.id,commentList:[],pagination:{page:1,size:10,total:null},isExpression:!1,faceList:[],isLoading:!1}},destroyed(){window.removeEventListener("scroll",this.pageScroll)},mounted(){this.getTrendsInfo(),this.getCommentList(),this.faceContent(),window.addEventListener("scroll",this.pageScroll)},methods:{commentStop(e){3!=e.reStatus&&this.$router.replace(`/community/reply/${e.parentCommentId}/${e.trendsId}`)},confirm(e){this.commentList.splice(e,1)},pageScroll(){let e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight,a=document.documentElement.clientHeight;e+a-t>=-600&&this.isLoading&&(this.isLoading=!1,this.getCommentList(!0))},handle(e){0===e&&(this.trendsData.isLike=!1,this.trendsData.up=this.trendsData.up-1),1===e&&(this.trendsData.isLike=!0,this.trendsData.up=this.trendsData.up+1),2===e&&(this.trendsData.isFollow=!0),3===e&&(this.trendsData.isFollow=!1)},async handleData(e){if(e.attachContent){let t=JSON.parse(e.attachContent),a=[];t&&(t.map(t=>{1===t.type&&this.$set(e,"href",this.$utils.decodeURIComponentSafely(t.url)),2===t.type&&a.push(this.prefixUrl+"/"+t.url),3===t.type&&this.$set(e,"videoUrl",t.url)}),a.length&&this.$set(e,"urls",a))}},async checkIsLikeTrends(e,t){const a=await this.$api.community.checkIsLikeTrends({trendsIds:e});a.success&&this.$set(t,"isLike",a.obj[e])},async checkIsFollow(e,t){const a=await this.$api.community.checkIsFollow({userIds:e});a.success&&this.$set(t,"isFollow",a.obj[e])},getBrow(e){for(let t in this.faceList)e==t&&(this.content+=this.faceList[e]);this.expressionShow=!1},insertIcon(){this.expressionShow=!0},faceContent(){for(let e in l)this.faceList.push(l[e].char)},async comment(){if(!this.token)return this.$router.push("/login");if(!this.content.trim())return this.$notify({message:this.$t("community_enter_content"),type:"warning"});const e=await this.$api.community.comment({trendsId:this.id,comment:this.content,commentType:1});e.success&&(this.content="",e.obj.avatar=this.userInfo.avatar,e.obj.reNickName=this.userInfo.nickNameOtc,this.commentList.unshift(e.obj),this.$notify({message:this.$t(e.code),type:"success"}))},async thumbsUp(e){if(!this.token)return this.$router.push("/login");let t="communityLike";e.isUp&&(t="cancelLike");const a=await this.$api.community[t]({trendsId:e.trendsId,commentId:e.id,likeType:1,likeObj:2});a.success&&(this.$set(e,"isUp",!e.isUp),this.$set(e,"up",e.isUp?e.up+1:e.up-1),e.isUp?this.$notify({message:this.$t("community_liked_successfully"),type:"success"}):this.$notify({message:this.$t("community_cancel_success"),type:"success"}))},async getTrendsInfo(){const e=await this.$api.community.getTrendsInfo({trendsId:this.id});e.success&&(this.trendsData=e.obj,this.author=e.obj.author,this.handleData(e.obj),this.token&&(this.checkIsFollow(e.obj.author,e.obj),this.checkIsLikeTrends(e.obj.id,e.obj)))},async checkIsLikeComment(e){let t=[];if(e.map(e=>{t.push(e.id)}),t=JSON.stringify(t),t=t.substr(0,t.length-1),t=t.substr(1,t.length-1),t.length<=0)return;const a=await this.$api.community.checkIsLikeComment({commentIds:t});a.success&&e.map(e=>{this.$set(e,"isUp",a.obj[e.id])})},async getCommentList(e){if(e){if(this.pagination.total===this.commentList.length)return!1;this.pagination.page++}else this.pagination.page=1;const t=await this.$api.community.getCommentList({trendsId:this.id,page:this.pagination.page,size:this.pagination.size});t.success&&(this.isLoading=!0,this.commentList=e?[...this.commentList,...t.obj.data]:t.obj.data,this.token&&this.checkIsLikeComment(this.commentList),this.pagination.total=t.obj.totalRows)}}},h=p,f=(a("9169"),a("2877")),d=Object(f["a"])(h,s,i,!1,null,"5011b27c",null);t["default"]=d.exports}}]);