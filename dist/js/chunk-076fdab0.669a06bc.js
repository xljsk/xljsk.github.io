(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-076fdab0"],{"5e9f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"copy-trade-warp"},[e("div",{staticClass:"header-box"},[e("div",{staticClass:"header-left"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("trade_top_trader")))]),e("div",{staticClass:"introduce"},[t._v(t._s(t.$t("trade_Meet_the_most_popular_traders")))])]),e("div",{staticClass:"header-right"},[e("div",{staticClass:"trader-box",staticStyle:{cursor:"pointer"},on:{click:t.rooute}},[e("div",{staticClass:"title-s"},[t._v(t._s(t.$t("trade_my_copy")))]),e("i",{staticClass:"el-icon-arrow-right"})]),e("div",{staticClass:"profit-box"},[e("div",{staticClass:"profit-left"},[e("div",{staticClass:"principal-number"},[t._v(t._s(t._f("P")(t.profitData.copyAsset)))]),e("div",{staticClass:"principal-text"},[t._v(" "+t._s(t.$t("trade_total_funds"))+"(USDT) ")])]),e("div",{staticClass:"profit-right"},[e("div",{staticClass:"principal-number"},[t._v(t._s(t._f("P")(t.profitData.totalProfit)))]),e("div",{staticClass:"principal-text"},[t._v(" "+t._s(t.$t("trade_follow_earnings"))+"(USDT) ")])])])])]),e("div",{staticClass:"table-box",style:"background: 'transparent'"},[e("div",{staticClass:"tabs-box",style:"background: 'transparent'"},[e("div",{staticClass:"tabs-left-box"},[e("el-tabs",{staticClass:"tabs-el",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(t,a){return e("el-tab-pane",{key:a+t.name,attrs:{label:t.name,name:t.id}})})),1)],1),e("div",{staticClass:"tabs-right-box"},[e("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:t.$t("trade_Search_Team")},on:{input:t.changeValue},model:{value:t.searchNickName,callback:function(e){t.searchNickName=e},expression:"searchNickName"}})],1)]),e("div",[1===t.tableShow?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"row-click":t.rowClick}},[e("template",{slot:"empty"},[e("el-empty",{attrs:{description:t.$t("trade_Currently_no_data"),image:a("f405")}})],1),e("el-table-column",{attrs:{prop:"date",label:t.$t("trade_Traders"),width:"220"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{display:"flex"}},[e("el-image",{staticStyle:{width:"30px",height:"30px","border-radius":"15px"},attrs:{src:t.$getEnv("VUE_APP_ALIOSS_URL")+"/"+a.row.avatar,fit:"cover"}}),e("div",{staticStyle:{"margin-left":"14px"}},[t._v(" "+t._s(a.row.teamName)+" ")])],1)]}}],null,!1,3449844047)}),e("el-table-column",{attrs:{prop:"profitRate30d",label:t.$t("trade_Team_profitability"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{class:""+(a.row.profitRate30d>=0?"rise":"fall")},[t._v(" "+t._s(a.row.profitRate30d)+"%")])]}}],null,!1,1713251476)}),e("el-table-column",{attrs:{prop:"userProfitShareRatio",label:t.$t("trade_Profit_sharing_ratio")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(" "+t._s(parseInt(100*a.row.userProfitShareRatio))+"%")])]}}],null,!1,446961251)}),e("el-table-column",{attrs:{prop:"totalProfit",label:t.$t("trade_Total_revenue")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(" ₮ "+t._s(t._f("P")(a.row.totalProfit)))])]}}],null,!1,3181261961)}),e("el-table-column",{attrs:{prop:"minJoinAsset",label:t.$t("trade_Minimum_copy_amount")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(" ₮ "+t._s(t._f("P")(a.row.minJoinAsset)))])]}}],null,!1,2823910501)}),e("el-table-column",{attrs:{prop:"followerLimit",label:t.$t("trade_Copy_quota"),align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(" "+t._s(a.row.followers)+"/"+t._s(a.row.followerLimit))])]}}],null,!1,4037760510)}),e("el-table-column",{attrs:{prop:"address",label:t.$t("trade_operate"),align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{class:""+(t.data.followers===t.data.followerLimit?"fullStarffed buts":"buts"),style:t.colorStatus(a.row.memberStatus,a.row),on:{click:function(e){return e.stopPropagation(),t.traderLic(a.row)}}},[t._v(" "+t._s(t._f("_status")(a.row.memberStatus,a.row,t.that))+" ")])]}}],null,!1,2153762327)})],2):t._e()],1),2===t.tableShow?e("div",{staticClass:"tables-box"},[t._l(t.tableData,(function(a){return e("TradeItem",{key:a.id+a.nickName,staticClass:"item-box",attrs:{data:a},on:{getList:t.getList,userProfit:t.getList}})})),0===t.tableData.length?e("el-empty",{staticStyle:{width:"100%"},attrs:{description:t.$t("trade_Currently_no_data"),image:a("f405")}}):t._e()],2):t._e(),e("el-pagination",{staticStyle:{margin:"20px 0 15px","text-align":"center","background-color":"transparent"},attrs:{layout:"prev, pager, next","page-size":t.pagination.limit,total:t.pagination.total,"hide-on-single-page":""},on:{"update:pageSize":function(e){return t.$set(t.pagination,"limit",e)},"update:page-size":function(e){return t.$set(t.pagination,"limit",e)},"current-change":t.current}})],1),e("TraderDialog",{ref:"traderDialogs",attrs:{data:t.data},on:{getList:t.getList,userProfit:t.getList}}),e("Dialog",{staticClass:"jieshu-box",attrs:{minWidth:"480px",footer:!0,title:t.$t("trade_end_copy")},on:{cancel:function(e){t.dialogVisiblejs=!1}},model:{value:t.dialogVisiblejs,callback:function(e){t.dialogVisiblejs=e},expression:"dialogVisiblejs"}},[e("div",{staticClass:"assets-content"},[e("div",{staticClass:"jieshu"},[t._v(" "+t._s(t.$t("trade_The_revenue_share"))+" ")]),e("div",{staticClass:"jieshu-but-box"},[e("div",{staticClass:"jieshu-clon",on:{click:function(e){t.dialogVisiblejs=!1}}},[t._v(t._s(t.$t("trade_Cancel")))]),e("div",{staticClass:"jieshu-but",on:{click:t.endOrder}},[t._v(t._s(t.$t("trade_confirm")))])])])])],1)},s=[],r=(a("14d9"),a("0a1e")),o=a("b0c1"),l=a("2f62"),n=a("e4ef"),c={components:{TradeItem:r["a"],TraderDialog:o["a"],Dialog:n["a"]},computed:{...Object(l["d"])(["token","userInfo"])},name:"copy-trade",data(){return{data:{},that:this,pagination:{total:0,offset:0,limit:12},tableShow:2,dialogVisiblejs:!1,searchNickName:"",tableData:[],activeName:"1",teamId:this.$route.query.id,profitData:{totalProfit:0,copyAsset:0},tabs:[{name:this.$t("trade_total_ranking"),id:"1"},{name:this.$t("trade_Number_of_followers"),id:"2"},{name:this.$t("trade_rate_of_return"),id:"3"},{name:this.$t("trade_Total_revenue"),id:"4"},{name:"AUM",id:"5"}]}},filters:{_status(t,e,a){if(e.followers===e.followerLimit&&1!==t)return a.$t("trade_full");switch(t){case 0:return a.$t("trade_in_the_group");case 1:return a.$t("trade_end");case 2:return a.$t("trade_retiring");case 5:return a.$t("trade_retiring");default:return a.$t("trade_join_the_group")}}},watch:{activeName(){this.getList()}},mounted(){this.$api.copyTrade.oKmarkPrice({instType:"SWAP",instId:"BTC-USD-SWAP"}),this.getList(!0),this.token&&this.userProfit()},methods:{colorStatus(t,e){if(e.followers===e.followerLimit&&1!==t)return{background:"#909399",color:"#fff"};switch(t){case 0:return{color:"#5DB988"};case 1:return{color:"#D45757"};case 2:return{color:"#909399"};case 5:return{color:"#D45757"};default:return{}}},async endOrder(){const t=await this.$api.copyTrade.outMember({teamId:this.data.id,userId:this.userInfo.customerId});t.success&&(this.$notify({message:this.$t(t.code),type:"success"}),this.$emit("memberPage"),this.dialogVisiblejs=!1,this.getList())},rooute(){return this.token?this.$router.push("/copy-trade/my-trade"):this.$router.push("/login")},async rowClick(t){if(!this.token)return void this.$router.push("/login");const e=await this.$api.copyTrade.fctTeamMemberInfo({teamId:this.data.id,userId:this.userInfo.customerId});if(e.success)if(e.obj){let a=Number(e.obj.status);switch(a){case 0:return await this.$router.push("/copy-trade/my-trade?id="+t.id);case 1:return await this.$router.push("/copy-trade/my-trade?id="+t.id);default:return await this.$router.push("/homePage?authorId="+t.leader)}}else await this.$router.push("/homePage?authorId="+t.leader)},traderLic(t){return this.token?1===t.memberStatus?(this.data=t,this.dialogVisiblejs=!0):void(t.followers!==t.followerLimit&&0!==t.memberStatus&&2!==t.memberStatus&&5!==t.memberStatus&&(this.data=t,this.$refs.traderDialogs.dialogVisible=!0)):this.$router.push("/login")},async userProfit(){if(!this.token)return!1;const t=await this.$api.copyTrade.memberPage({limit:"100",type:1,followId:this.userInfo.customerId});if(t.success&&t.obj){let e=0,a=0;t.obj.map(t=>{e+=Number(t.copyAsset)||0,a+=Number(t.currentProfit)||0}),this.$set(this.profitData,"copyAsset",e),this.$set(this.profitData,"totalProfit",a)}},current(t){this.pagination.offset=(t-1)*this.pagination.limit,this.getList()},changeValue(){this.pagination.offset=0,this.getList()},async getList(t){const e={teamName:this.searchNickName,orderType:this.activeName};for(const i in e)e[i]||delete e[i];const a=await this.$api.copyTrade.fctTeamList({...e,offset:this.pagination.offset,limit:this.pagination.limit});a.success&&(a.obj.records.map(e=>{if(t&&e.id==1*this.teamId){if(e.followers===e.followerLimit)return!1;null!==e.memberStatus&&3!=e.memberStatus||this.traderLic(e)}}),localStorage.hztableData=JSON.stringify(a.obj.records),this.pagination.total=a.obj.total,this.tableData=a.obj.records,this.userProfit()),this.tableData=JSON.parse(localStorage.hztableData)}}},d=c,u=(a("fb99"),a("2877")),f=Object(u["a"])(d,i,s,!1,null,"1af38bea",null);e["default"]=f.exports},e827:function(t,e,a){},fb99:function(t,e,a){"use strict";a("e827")}}]);