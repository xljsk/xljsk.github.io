(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6caa09c8"],{"0e681":function(t,i,e){"use strict";e("a7ad")},"45a3":function(t,i,e){"use strict";e("b8ca")},"714c":function(t,i,e){},"788b":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"page"},[t.isShowChart?i("Chart",{attrs:{list:t._c_contract_topList,exchange:"bn"}}):t._e(),i("div",{staticStyle:{"padding-right":"6px","padding-left":"6px"}},[i("Tab",{attrs:{config:t.config,isShowSearch:t.isShowSearch},on:{changeConfig:t.changeConfig},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}}),"contract"===t.config.market?i("Contract",{key:"a",attrs:{isShowSkeleton:t.isShowSkeleton,exchange:t.config.exchange,search:t.search,outsideSearch:t.outsideSearch,list:t._c_contract_list,favList:t._c_contract_favList},on:{changeSkeleton:function(i){t.isShowSkeleton=!1},changeFav:t.contract_getFavorite}}):t._e(),"rate"===t.config.market?i("Rate",{key:"b",attrs:{exchange:t.config.exchange,search:t.search,outsideSearch:t.outsideSearch,list:t._c_rate_list,favList:t._c_rate_favList},on:{changeFav:t.rate_getFavorite}}):t._e()],1)],1)},n=[],a=(e("14d9"),e("2f62"));class o{constructor(t,i){this.wsurl=t,this.websock=null,this.binaryType=i,this.initWebSocket()}initWebSocket(){var t=this;this.websock=new WebSocket(this.wsurl),this.binaryType&&(this.websock.binaryType=this.binaryType),this.websock.onmessage=function(i){t.webMessage(i)},this.websock.onclose=function(i){t.webClose(i)},this.websock.onopen=function(){t.webOpen()},this.websock.onerror=function(){}}sendSock(t,i=this.callback){if(this.callback=i,t)if(this.websock.readyState===this.websock.OPEN)this.webSend(t);else if(this.websock.readyState===this.websock.CONNECTING){let i=this;setTimeout((function(){i.sendSock(t)}),2e3)}else{this.initWebSocket();let i=this;setTimeout((function(){i.sendSock(t)}),1e3)}}webMessage(t){this.callback&&this.callback(t)}webSend(t){this.websock.send(t)}webClose(){this.websock.close()}webOpen(){}}var r=o,c=function(){var t=this,i=t._self._c;return t.list.length&&!t.isShowSkeleton?i("el-carousel",{attrs:{height:"170px",autoplay:!1}},t._l(t.list,(function(e,s){return i("el-carousel-item",{key:s,attrs:{autoplay:!1}},[i("div",{staticClass:"chart-wrap"},t._l(e,(function(e,s){return i("div",{key:s,staticClass:"chart-item pointer",on:{click:function(i){return t.routerPush(e)}}},[i("div",{staticClass:"info-wrap"},[i("div",{staticClass:"top"},[i("span",{staticClass:"coin"},[t._v(t._s(t.formatTicker(e)))]),i("div",{staticClass:"tab"},[t._v(t._s(t.$t("market_sustainable")))])]),i("div",{staticClass:"center"},[i("span",{staticClass:"price",class:t.showExtenClassName(e)},[t._v(t._s(t.formatLatest(e)))]),i("span",{staticClass:"exten",class:t.showExtenClassName(e)},[t._v(t._s(t.formatOperation(e))+t._s(t.formatExten(e)))])]),i("div",{staticClass:"bottom"},[i("span",{staticClass:"turnover-key"},[t._v(t._s(t.$t("market_24h_turnover")))]),i("span",{staticClass:"turnover-value"},[t._v(t._s(t.formatNumberSize(e)))])])]),i("div",{staticStyle:{width:"100px",height:"18px","margin-top":"15px"},attrs:{id:"chart-"+e.config.id,text:t.createEcharts("chart-"+e.config.id,e.kline)}})])})),0)])})),1):i("el-skeleton",[i("template",{slot:"template"},[i("div",{staticClass:"skeleton-banner-wrap"},t._l(4,(function(t){return i("el-skeleton-item",{key:t,staticClass:"skeleton-item",attrs:{variant:"rect"}})})),1)])],2)},h=[],l=e("313e");const u="bn",f="okx",p="hk",_="us",g={[u]:"binance",[f]:"okx"},d={[p]:"港股",[_]:"美股"};var m={name:"chart",components:{},props:{list:{type:Array},exchange:{type:String,default:u}},data(){return{echartsOption:{grid:{left:"0%",top:"0%",right:"0%",bottom:"0%"},legend:{padding:[0,0,0,0]},xAxis:{show:!1,type:"category",axisLine:{show:!1},axisTick:{show:!1}},yAxis:{show:!1,type:"value",axisLine:{show:!1},axisTick:{show:!1},min:function(t){return t.min}},series:[{symbol:"none",data:[],type:"line",lineStyle:{color:"#EDD44E"},areaStyle:{opacity:.6,color:new l["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#EDD44E"},{offset:1,color:"rgba(216,216,216,0.00)"}])}}]},isShowSkeleton:!0}},computed:{...Object(a["d"])({token:"token",bn_precise:t=>t.market.bn_precise,okx_precise:t=>t.market.okx_precise})},watch:{},mounted(){setTimeout(()=>{this.isShowSkeleton=!1},1e3)},methods:{createEcharts(t,i=[]){var e=document.getElementById(t);if(e){if(this["echarts"+t])return;this["echarts"+t]=l["init"](e),this.echartsOption.series[0]["data"]=i.map(t=>Number(t[4])),this["echarts"+t].setOption(this.echartsOption)}},showExtenClassName(t){if(this.exchange===u){const i=Number(t.P);return{up:i>0,down:i<0,"":0===i}}{const i=Number(t.last-t.open24h);return{up:i>0,down:i<0,"":0===i}}},formatTicker(t){return t.config.tradeCoin+t.config.priceCoin},showPriceClassName(t){if(this.exchange===u){const i=Number(t.P);return{up:i>0,down:i<0,"":0===i}}{const i=Number(t.last-t.open24h);return{up:i>0,down:i<0,"":0===i}}},formatLatest(t){return this.exchange===u?t.c?"₮ "+t.c:"- -":t.last?"₮ "+this.$utils._toFix(t.last,this.okx_precise[t.config.symbolPair]):"- -"},formatExten(t){return this.exchange===u?t.P?Number(t.P).toFixed(2)+"%":"- -":t.last?Number((t.last-t.open24h)/t.open24h*100).toFixed(2)+"%":"- -"},formatOperation(t){if(this.exchange===u){const i=t.P;return i&&Number(i)>0?"+":""}{const i=t.last-t.open24h;return i&&Number(i)>0?"+":""}},formatNumberSize(t){return this.exchange===u?t.v?this.$utils._formatNumberSize(Number(t.v)):"- -":t.vol24h?this.$utils._formatNumberSize(Number(t.vol24h)):"- -"},routerPush(t){this.$router.push({path:`/exchange?tradeCoin=${t.config.tradeCoin}&priceCoin=${t.config.priceCoin}&fccId=${t.config.id}&type=${t.config.contractType}&exchange=${t.config.exchange}`})}}},b=m,k=(e("d176"),e("2877")),S=Object(k["a"])(b,c,h,!1,null,"2fc6c8b6",null),v=S.exports,x=function(){var t=this,i=t._self._c;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"list-header layout"},[i("div",{staticClass:"coin-name"},[t._v(t._s("市场"))]),i("div",{staticClass:"latest-price"},[t._v(t._s(t.$t("market_latest_price")))]),i("div",{staticClass:"exten",on:{click:t.onTapSortExtent}},[i("span",{staticClass:"text"},[t._v(t._s(t.$t("market_24h_ups_down")))]),i("div",{staticClass:"triangle-wrap"},[i("div",{staticClass:"triangle-up",class:{selectedTriangleUp:"up"===t.ExtentSort}}),i("div",{staticClass:"triangle-down",class:{selectedTriangleDown:"dowm"===t.ExtentSort}})])]),i("div",{staticClass:"lowest-price"},[t._v(t._s(t.$t("market_24h_lowest_price")))]),i("div",{staticClass:"between-wrap"},[i("div",{staticClass:"maximum-price"},[t._v(t._s(t.$t("market_24h_max_price")))]),i("div",{staticClass:"trading-volume",on:{click:t.onTapSortVolume}},[i("span",{staticClass:"text"},[t._v(t._s(t.$t("market_24h_turnover")))]),i("div",{staticClass:"triangle-wrap"},[i("div",{staticClass:"triangle-up",class:{selectedTriangleUp:"up"===t.VolumeSort}}),i("div",{staticClass:"triangle-down",class:{selectedTriangleDown:"dowm"===t.VolumeSort}})])])])]),t.listShow.length&&!t.isShowSkeleton?i("div",{staticClass:"list-wrap"},t._l(t.listShow,(function(e,s){return i("div",{key:s,staticClass:"item layout pointer",on:{click:function(i){return t.routerPush(e)}}},[i("div",{staticClass:"coin-name"},[i("svg-icon",{staticClass:"icon pointer",attrs:{data_iconName:t.favList.includes(e.config.symbolPair)?"fav-full":"fav"},nativeOn:{click:function(i){i.stopPropagation(),t.$throttle(()=>{t.handleFavoritePair(e)})}}}),i("span",{staticClass:"value"},[t._v(t._s(t.formatTicker(e))+" "+t._s(t.$t("market_sustainable")))])],1),i("div",{staticClass:"latest-price"},[i("div",{staticClass:"top",class:t.showPriceClassName(e)},[t._v(t._s(t.formatLatest(e)))])]),i("div",{staticClass:"exten",class:t.showExtenClassName(e)},[t._v(t._s(t.formatOperation(e))+t._s(t.formatExten(e)))]),i("div",{staticClass:"lowest-price"},[t._v(t._s(t.formatLowest(e)))]),i("div",{staticClass:"between-wrap"},[i("div",{staticClass:"maximum-price"},[t._v(t._s(t.formatMaximum(e)))]),i("div",{staticClass:"trading-volume"},[t._v(t._s(t.formatNumberSize(e)))])])])})),0):t._e(),t.isShowSkeleton||t.listShow.length?t._e():i("el-empty",{attrs:{image:e("e335"),description:t.$t("notice_no_data"),"image-size":133}}),t.isShowSkeleton?i("el-skeleton",{attrs:{animated:""}},[i("template",{slot:"template"},[i("div",{staticClass:"skeleton-list-wrap"},t._l(6,(function(t){return i("el-skeleton-item",{key:t,staticClass:"skeleton-item",attrs:{variant:"rect"}})})),1)])],2):t._e()],1)},w=[],C={name:"contract",components:{},props:{list:{type:Array},outsideSearch:{type:String,default:""},favList:{type:Array},search:{type:String},exchange:{type:String,default:u},isShowSkeleton:{type:Boolean}},data(){return{isShowSort:"VolumeSort",ExtentSort:"default",VolumeSort:"default",listShow:[]}},computed:{...Object(a["d"])({token:"token",bn_precise:t=>t.market.bn_precise,okx_precise:t=>t.market.okx_precise})},watch:{outsideSearch:{handler(t){const i=this.onSearch(t);switch(this.isShowSort){case"ExtentSort":this.listShow=this.sortExtent(i);break;case"VolumeSort":this.listShow=this.sortVolume(i);break}},immediate:!0},list(){const t=this.onSearch(this.outsideSearch||this.search);switch(this.isShowSort){case"ExtentSort":this.listShow=this.sortExtent(t);break;case"VolumeSort":this.listShow=this.sortVolume(t);break}},search(t){const i=this.onSearch(t);switch(this.isShowSort){case"ExtentSort":this.listShow=this.sortExtent(i);break;case"VolumeSort":this.listShow=this.sortVolume(i);break}}},mounted(){setTimeout(()=>{this.$emit("changeSkeleton",!1)},1e3)},methods:{formatTicker(t){return t.config.tradeCoin+t.config.priceCoin},formatExten(t){return this.exchange===u?t.P?Number(t.P).toFixed(2)+"%":"- -":t.last?Number((t.last-t.open24h)/t.open24h*100).toFixed(2)+"%":"- -"},formatOperation(t){if(this.exchange===u){const i=t.P;return i&&Number(i)>0?"+":""}{const i=t.last-t.open24h;return i&&Number(i)>0?"+":""}},formatLowest(t){return this.exchange===u?t.l?"₮ "+t.l:"- -":t.low24h?"₮ "+this.$utils._toFix(t.low24h,this.okx_precise[t.config.symbolPair]):"- -"},formatMaximum(t){return this.exchange===u?t.h?"₮ "+t.h:"- -":t.high24h?"₮ "+this.$utils._toFix(t.high24h,this.okx_precise[t.config.symbolPair]):"- -"},showExtenClassName(t){if(this.exchange===u){const i=Number(t.P);return{up:i>0,down:i<0,"":0===i}}{const i=Number(t.last-t.open24h);return{up:i>0,down:i<0,"":0===i}}},showPriceClassName(t){if(this.exchange===u){const i=Number(t.P);return{up:i>0,down:i<0,"":0===i}}{const i=Number(t.last-t.open24h);return{up:i>0,down:i<0,"":0===i}}},formatNumberSize(t){return this.exchange===u?t.v?this.$utils._formatNumberSize(Number(t.v)):"- -":t.vol24h?this.$utils._formatNumberSize(Number(t.vol24h)):"- -"},formatLatest(t){return this.exchange===u?t.c?"₮ "+t.c:"- -":t.last?"₮ "+this.$utils._toFix(t.last,this.okx_precise[t.config.symbolPair]):"- -"},onTapSortVolume(){this.isShowSort="VolumeSort",this.ExtentSort="default","default"===this.VolumeSort?(this.exchange===u?this.listShow.sort((function(t,i){return t.v-i.v})):this.listShow.sort((function(t,i){return t.vol24h-i.vol24h})),this.VolumeSort="up"):"up"===this.VolumeSort?(this.exchange===u?this.listShow.sort((function(t,i){return i.v-t.v})):this.listShow.sort((function(t,i){return i.vol24h-t.vol24h})),this.VolumeSort="dowm"):(this.listShow.sort((function(t,i){return t.config.sort-i.config.sort})),this.VolumeSort="default")},onTapSortExtent(){this.isShowSort="ExtentSort",this.VolumeSort="default","default"===this.ExtentSort?(this.exchange===u?this.listShow.sort((function(t,i){return t.P-i.P})):this.listShow.sort((function(t,i){return(t.last-t.open24h)/t.open24h-(i.last-i.open24h)/i.open24h})),this.ExtentSort="up"):"up"===this.ExtentSort?(this.exchange===u?this.listShow.sort((function(t,i){return i.P-t.P})):this.listShow.sort((function(t,i){return(i.last-i.open24h)/i.open24h-(t.last-t.open24h)/t.open24h})),this.ExtentSort="dowm"):(this.listShow.sort((function(t,i){return t.config.sort-i.config.sort})),this.ExtentSort="default")},sortVolume(t=this.listShow){return"default"===this.VolumeSort?t.sort((function(t,i){return t.config.sort-i.config.sort})):"up"===this.VolumeSort?this.exchange===u?t.sort((function(t,i){return t.v-i.v})):t.sort((function(t,i){return t.vol24h-i.vol24h})):this.exchange===u?t.sort((function(t,i){return i.v-t.v})):t.sort((function(t,i){return i.vol24h-t.vol24h}))},sortExtent(t=this.listShow){return"default"===this.ExtentSort?t.sort((function(t,i){return t.config.sort-i.config.sort})):"up"===this.ExtentSort?this.exchange===u?t.sort((function(t,i){return t.P-i.P})):t.sort((function(t,i){return(t.last-t.open24h)/t.open24h-(i.last-i.open24h)/i.open24h})):this.exchange===u?t.sort((function(t,i){return i.P-t.P})):t.sort((function(t,i){return(i.last-i.open24h)/i.open24h-(t.last-t.open24h)/t.open24h}))},onSearch(t){if(t=t.toUpperCase(),t){const i=/^[A-Za-z]+$/;return this.list.length&&i.test(t)?this.list.filter(i=>this.exchange===u?i["config"]["symbolPair"].includes(t):`${i["config"]["tradeCoin"]}${i["config"]["priceCoin"]}`.includes(t)):[]}return[...this.list]},async handleFavoritePair(t){if(!this.token)return this.$router.push({path:"/login"});if(this.favList.includes(t.config.symbolPair)){const i=await this.$api.market.cancelFavorite({fccIds:t.config.id});i.success&&this.$notify({message:this.$t("exchange_cancle_fav"),type:"success"})}else{const i=await this.$api.market.favoritePair({fccId:t.config.id,type:t.config.contractType});i.success&&this.$notify({message:this.$t("exchange_fav"),type:"success"})}this.$emit("changeFav")},routerPush(t){this.$router.push({path:`/exchange?tradeCoin=${t.config.tradeCoin}&priceCoin=${t.config.priceCoin}&fccId=${t.config.id}&type=${t.config.contractType}&exchange=${t.config.exchange}`})}}},y=C,T=(e("a78e"),Object(k["a"])(y,x,w,!1,null,"386f49cf",null)),P=T.exports,$=function(){var t=this,i=t._self._c;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"list-header layout"},[i("div",{staticClass:"item0"},[t._v(t._s(t.$t("market_pairs")))]),i("div",{staticClass:"item1"},[t._v(t._s(t.$t("market_3dTotal")))]),i("div",{staticClass:"item2",on:{click:t.onTapSortAnnualize}},[i("span",{staticClass:"text"},[t._v(t._s(t.$t("market_annualize")))]),i("div",{staticClass:"triangle-wrap"},[i("div",{staticClass:"triangle-up",class:{selectedTriangleUp:"up"===t.AnnualizeSort}}),i("div",{staticClass:"triangle-down",class:{selectedTriangleDown:"dowm"===t.AnnualizeSort}})])]),i("div",{staticClass:"item3"},[t._v(t._s(t.$t("market_3dFundingRate")))]),i("div",{staticClass:"item4"},[t._v(t._s(t.$t("market_fundingRate")))]),i("div",{staticClass:"item5",on:{click:t.onTapSortDiff}},[i("span",{staticClass:"text"},[t._v(t._s(t.$t("market_spread")))]),i("div",{staticClass:"triangle-wrap"},[i("div",{staticClass:"triangle-up",class:{selectedTriangleUp:"up"===t.DiffSort}}),i("div",{staticClass:"triangle-down",class:{selectedTriangleDown:"dowm"===t.DiffSort}})])]),i("div",{staticClass:"between-wrap"},[i("div",{staticClass:"item6",on:{click:t.onTapSortPosition}},[i("span",{staticClass:"text"},[t._v(t._s(t.$t("market_position")))]),i("div",{staticClass:"triangle-wrap"},[i("div",{staticClass:"triangle-up",class:{selectedTriangleUp:"up"===t.PositionSort}}),i("div",{staticClass:"triangle-down",class:{selectedTriangleDown:"dowm"===t.PositionSort}})])]),i("div",{staticClass:"item7"},[t._v(t._s(t.$t("market_settlement_remaining")))])])]),i("div",{staticClass:"list-wrap"},t._l(t.listShow,(function(e,s){return i("div",{key:s,staticClass:"item layout pointer",on:{click:function(i){return t.routerPush(e)}}},[i("div",{staticClass:"item0"},[i("svg-icon",{staticClass:"icon pointer",attrs:{data_iconName:t.favList.includes(e.config.id)?"fav-full":"fav"},nativeOn:{click:function(i){i.stopPropagation(),t.$throttle(()=>{t.handleFavoritePair(e)})}}}),i("div",{staticClass:"coin-name"},[i("div",{staticClass:"top"},[i("div",{staticClass:"left up-bg up"},[t._v(t._s(t.$t("market_b")))]),i("div",{staticClass:"right"},[i("span",[t._v(t._s(t.topShowContractType(e)))]),1===e.config.leftLegType?i("span",[t._v(t._s(t.$t("market_sustainable")))]):t._e()])]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"left down-bg down"},[t._v(t._s(t.$t("market_s")))]),i("div",{staticClass:"right"},[i("span",[t._v(t._s(t.bottomShowContractType(e)))]),1===e.config.rightLegType?i("span",[t._v(t._s(t.$t("market_sustainable")))]):t._e()])])])],1),i("div",{staticClass:"item1"},[i("div",{staticClass:"top"},[t._v(t._s(t.show3dTotal(e)))])]),i("div",{staticClass:"item2",class:t.showAnnualizeClassName(e)},[t._v(t._s(t.showAnnualize(e)))]),i("div",{staticClass:"item3"},[t._v(t._s(t.show3dFundingRate(e)))]),i("div",{staticClass:"item4"},[i("div",{staticClass:"top"},[t._v(t._s(t.showFundingRate(e)))])]),i("div",{staticClass:"item5",class:t.showSpreadClassName(e)},[t._v(t._s(t.showSpread(e)))]),i("div",{staticClass:"between-wrap"},[i("div",{staticClass:"item6"},[t._v(t._s(t.showPosition(e)))]),i("div",{staticClass:"item7"},[t._v(t._s(t.formatTime(e)))])])])})),0),t.listShow.length?t._e():i("el-empty",{attrs:{image:e("e335"),description:t.$t("notice_no_data"),"image-size":133}})],1)},L=[],N=e("105b"),E={name:"rate",components:{},props:{list:{type:Array},outsideSearch:{type:String,default:""},favList:{type:Array},search:{type:String},exchange:{type:String,default:u}},data(){return{isShowSort:"AnnualizeSort",DiffSort:"default",AnnualizeSort:"default",PositionSort:"default",listShow:[]}},computed:{...Object(a["d"])({token:"token"})},watch:{outsideSearch:{handler(t){const i=this.onSearch(t);switch(this.isShowSort){case"DiffSort":this.listShow=this.sortDiff(i);break;case"AnnualizeSort":this.listShow=this.sortAnnualize(i);break;case"PositionSort":this.listShow=this.sortPosition(i);break}},immediate:!0},list(){const t=this.onSearch(this.outsideSearch||this.search);switch(this.isShowSort){case"DiffSort":this.listShow=this.sortDiff(t);break;case"AnnualizeSort":this.listShow=this.sortAnnualize(t);break;case"PositionSort":this.listShow=this.sortPosition(t);break}},search(t){const i=this.onSearch(t);switch(this.isShowSort){case"DiffSort":this.listShow=this.sortDiff(i);break;case"AnnualizeSort":this.listShow=this.sortAnnualize(i);break;case"PositionSort":this.listShow=this.sortPosition(i);break}}},mounted(){},methods:{onTapSortPosition(){this.isShowSort="PositionSort",this.DiffSort="default",this.AnnualizeSort="default","default"===this.PositionSort?(this.exchange===u?this.listShow.sort((function(t,i){return t.sumOpenInterestValue-i.sumOpenInterestValue})):this.listShow.sort((function(t,i){return t.notionalUsd-i.notionalUsd})),this.PositionSort="up"):"up"===this.PositionSort?(this.exchange===u?this.listShow.sort((function(t,i){return i.sumOpenInterestValue-t.sumOpenInterestValue})):this.listShow.sort((function(t,i){return i.notionalUsd-t.notionalUsd})),this.PositionSort="dowm"):(this.listShow.sort((function(t,i){return t.config.id-i.config.id})),this.PositionSort="default")},onTapSortAnnualize(){this.isShowSort="AnnualizeSort",this.DiffSort="default",this.PositionSort="default","default"===this.AnnualizeSort?(this.exchange===u?this.listShow.sort((function(t,i){return t.acc3dFundingRate-i.acc3dFundingRate})):this.listShow.sort((function(t,i){return t.apy-i.apy})),this.AnnualizeSort="up"):"up"===this.AnnualizeSort?(this.exchange===u?this.listShow.sort((function(t,i){return i.acc3dFundingRate-t.acc3dFundingRate})):this.listShow.sort((function(t,i){return i.apy-t.apy})),this.AnnualizeSort="dowm"):(this.listShow.sort((function(t,i){return t.config.id-i.config.id})),this.AnnualizeSort="default")},onTapSortDiff(){this.isShowSort="DiffSort",this.AnnualizeSort="default",this.PositionSort="default","default"===this.DiffSort?(this.exchange===u?this.listShow.sort((function(t,i){return t.contract.c-t.P-(i.contract.c-i.P)})):this.listShow.sort((function(t,i){return t.spread/i.spread})),this.DiffSort="up"):"up"===this.DiffSort?(this.exchange===u?this.listShow.sort((function(t,i){return i.contract.c-i.P-(t.contract.c-t.P)})):this.listShow.sort((function(t,i){return i.spread/t.spread})),this.DiffSort="dowm"):(this.listShow.sort((function(t,i){return t.config.id-i.config.id})),this.DiffSort="default")},sortPosition(t=this.listShow){return"default"===this.PositionSort?t.sort((function(t,i){return t.config.id-i.config.id})):"up"===this.PositionSort?this.exchange===u?t.sort((function(t,i){return t.sumOpenInterestValue-i.sumOpenInterestValue})):t.sort((function(t,i){return t.notionalUsd-i.notionalUsd})):this.exchange===u?t.sort((function(t,i){return i.sumOpenInterestValue-t.sumOpenInterestValue})):t.sort((function(t,i){return i.notionalUsd-t.notionalUsd}))},sortAnnualize(t=this.listShow){return"default"===this.AnnualizeSort?t.sort((function(t,i){return t.config.id-i.config.id})):"up"===this.AnnualizeSort?this.exchange===u?t.sort((function(t,i){return t.acc3dFundingRate-i.acc3dFundingRate})):t.sort((function(t,i){return t.apy-i.apy})):this.exchange===u?t.sort((function(t,i){return i.acc3dFundingRate-t.acc3dFundingRate})):t.sort((function(t,i){return i.apy-t.apy}))},sortDiff(t=this.listShow){return"default"===this.DiffSort?t.sort((function(t,i){return t.config.id-i.config.id})):"up"===this.DiffSort?this.exchange===u?t.sort((function(t,i){return t.contract.c-t.P-(i.contract.c-i.P)})):t.sort((function(t,i){return t.spread-i.spread})):this.exchange===u?t.sort((function(t,i){return i.contract.c-i.P-(t.contract.c-t.P)})):t.sort((function(t,i){return i.spread-t.spread}))},onSearch(t){if(t=t.toUpperCase(),t){const i=/^[A-Za-z]+$/;return this.list.length&&i.test(t)?this.list.filter(i=>`${i["config"]["rightTradeCoin"]}${i["config"]["rightPriceCoin"]}`.includes(t)):[]}return[...this.list]},show3dTotal(t){return t.acc3dFundingRate?Number(1e4*t.acc3dFundingRate/2).toFixed(2):"- -"},showAnnualize(t){return this.exchange===u?t.acc3dFundingRate?Number(365*t.acc3dFundingRate/3)<.01?"+0.01%":t.acc3dFundingRate?`${Number(t.acc3dFundingRate)>0?"+":""}${Number(365*t.acc3dFundingRate/3).toFixed(2)}%`:"- -":"- -":t.apy?`${Number(t.apy)>0?"+":""}${Number(100*t.apy).toFixed(2)}%`:"- -"},showAnnualizeClassName(t){if(this.exchange===u){const i=Number(t.acc3dFundingRate);return{up:i>0,down:i<0,"":0===i}}{const i=Number(t.apy);return{up:i>0,down:i<0,"":0===i}}},show3dFundingRate(t){return t.acc3dFundingRate?`${Number(t.acc3dFundingRate)>0?"+":""}${Number(100*t.acc3dFundingRate).toFixed(3)}%`:"- -"},showSpread(t){var i;return this.exchange===u?null!==(i=t.contract)&&void 0!==i&&i.c&&t.p?`${Number(t.contract.c-t.p)>0?"+":""}${Number(100*this.$NP.divide(t.contract.c-t.p,t.p)).toFixed(2)}%`:"- -":t.spread?`${Number(t.spread)>0?"+":""}${Number(100*t.spread).toFixed(2)}%`:"- -"},showSpreadClassName(t){if(this.exchange===u){var i;const e=Number((null===(i=t.contract)||void 0===i?void 0:i.c)-t.p);return{up:e>0,down:e<0,"":0===e}}{const i=Number(t.spread);return{up:i>0,down:i<0,"":0===i}}},showFundingRate(t){return this.exchange===u?t.r?`${Number(t.r)>0?"+":""}${Number(100*t.r).toFixed(3)}%`:"- -":t.fundingRate?`${Number(t.fundingRate)>0?"+":""}${Number(100*t.fundingRate).toFixed(3)}%`:"- -"},showPosition(t){return this.exchange===u?t.sumOpenInterestValue?this.$utils._formatNumberSize(Number(t.sumOpenInterestValue)):"- -":t.notionalUsd?this.$utils._formatNumberSize(Number(t.notionalUsd)):"- -"},topShowContractType(t){return 4===t.config.leftLegType?`${t.config.leftTradeCoin}/${t.config.leftPriceCoin}`:`${t.config.rightTradeCoin}${t.config.rightPriceCoin}`},bottomShowContractType(t){return 1===t.config.rightLegType?`${t.config.rightTradeCoin}${t.config.rightPriceCoin}`:`${t.config.rightTradeCoin}/${t.config.rightPriceCoin}`},formatTime(t){if(this.exchange===u){const i=this.getTimeRemaining(t.T);return t.T?`${i.hours}小时${i.minutes}分钟`:"- -"}{const i=this.getTimeRemaining(t.fundingTime);return t.fundingTime?`${i.hours}小时${i.minutes}分钟`:"- -"}},getTimeRemaining(t){const i=t-this.$dayjs().valueOf(),e=Math.floor(i/1e3%60),s=Math.floor(i/1e3/60%60),n=Math.floor(i/36e5%24),a=Math.floor(i/864e5);return{total:i,days:a,hours:n,minutes:s,seconds:e}},async handleFavoritePair(t){if(!this.token)return this.$router.push({path:"/login"});const i=N["a"].getStorageSync("BN_RATE",!0),e=N["a"].getStorageSync("OKX_RATE",!0),s=this.exchange===u?i:e,n=this.exchange===u?(null===i||void 0===i?void 0:i.favConfig)||[]:(null===e||void 0===e?void 0:e.favConfig)||[];if(this.favList.includes(t.config.id)){const i=n.findIndex(i=>t.config.id===i.id);-1!==i&&(n.splice(i,1),N["a"].setStorageSync(this.exchange===u?"BN_RATE":"OKX_RATE",{...s,favConfig:n},!0)),this.$notify({message:this.$t("exchange_cancle_fav"),type:"success"})}else n.push(t.config),N["a"].setStorageSync(this.exchange===u?"BN_RATE":"OKX_RATE",{...s,favConfig:n},!0),this.$notify({message:this.$t("exchange_fav"),type:"success"});this.$emit("changeFav")},routerPush(t){this.$router.push({path:`/arbitrage?tradeCoin=${t.config.leftTradeCoin}&priceCoin=${t.config.leftPriceCoin}&exchange=${t.config.exchange}`})}}},I=E,A=(e("45a3"),Object(k["a"])(I,$,L,!1,null,"97161cee",null)),R=A.exports,O=function(){var t=this,i=t._self._c;return i("div",{staticClass:"tabs-search"},[i("div",{staticClass:"mian-wrap"},[i("div",{staticClass:"mian-tabs"},t._l(t._c_main_list,(function(e,s){return i("div",{key:s,staticClass:"tab pointer",class:t._c_main_list[t.mianTabIndex]["key"]===e.key?"actived":"",on:{click:function(i){return t.onTab(s,"main")}}},[t._v(t._s(e.name))])})),0),i("div",{staticClass:"search-wrap"},[i("div",{staticClass:"switch-wrap pointer"},t._l(t._c_switch_list,(function(e,s){return i("div",{key:s,staticClass:"item",class:t.switch_class(e),on:{click:function(i){return t.onTab(s,"switch")}}},[t._v(t._s(e.name))])})),0),t.isShowSearch?i("el-input",{class:t.isFocus?"":"w80",attrs:{value:t.value,size:"mini",placeholder:t.$t("assets_search")},on:{focus:function(i){t.isFocus=!0},blur:function(i){t.isFocus=!1},input:function(i){return t.$emit("input",i)}}},[i("div",{staticClass:"search",attrs:{slot:"prefix"},slot:"prefix"},[i("i",{staticClass:"el-icon-search icon"})])]):t._e()],1)]),"fav"===t._c_main_list[t.mianTabIndex]["key"]?i("div",{staticClass:"fav-tabs"},t._l(t._c_fav_list,(function(e,s){return i("div",{key:s,staticClass:"tab pointer",class:t._c_fav_list[t.favTabIndex]["key"]===e.key?"actived":"",on:{click:function(i){return t.onTab(s,"fav")}}},[t._v(t._s(e.name))])})),0):t._e()])},F=[],z={name:"tab",props:{isShowFav:{type:Boolean,default:!0},isShowSearch:{type:Boolean,default:!0},value:{type:String,default:""}},data(){return{mianTabIndex:0,favTabIndex:0,exchangeIndex:this.$store.state.assets.exchange===u?0:1,financeIndex:0,isFocus:!1,exchange:this.$store.state.assets.exchange,finance:"us"}},computed:{...Object(a["d"])({token:"token",exchangeRate:t=>t.assets.exchangeRate,exchangeRateKey:t=>t.assets.exchangeRateKey,bn_precise:t=>t.market.bn_precise,okx_precise:t=>t.market.okx_precise}),_c_main_list(){return this.isShowFav&&this.token?[{name:this.$t("market_fav"),key:"fav"},{name:this.$t("market_contract"),key:"contract",contractType:1},{name:this.$t("market_arbitrage"),key:"rate"}]:[{name:this.$t("market_contract"),key:"contract",contractType:1},{name:this.$t("market_arbitrage"),key:"rate"}]},_c_fav_list(){return[{name:this.$t("market_contract"),key:"contract",contractType:1},{name:this.$t("market_arbitrage"),key:"rate"}]},_c_exchange_list(){return[{name:"Binance",key:u},{name:"OKX",key:f}]},_c_finance_list(){return[{name:this.$t("market_us"),key:"us"},{name:this.$t("market_hk"),key:"hk"}]},_c_switch_list(){return"finance"===this._c_main_list[this.mianTabIndex]["key"]?this._c_finance_list:this._c_exchange_list}},watch:{},mounted(){},methods:{...Object(a["c"])(["CHANGE_EXCHANGE"]),onTab(t,i){"main"===i?this.mianTabIndex=t:"fav"===i?this.favTabIndex=t:"finance"===this._c_main_list[this.mianTabIndex]["key"]?(this.financeIndex=t,this.finance=this._c_finance_list[this.financeIndex]["key"]):(this.exchangeIndex=t,this.exchange=this._c_exchange_list[this.exchangeIndex]["key"]),this.CHANGE_EXCHANGE(this.exchange),this.$emit("changeConfig",{selectFav:"fav"===this._c_main_list[this.mianTabIndex]["key"],market:"fav"===this._c_main_list[this.mianTabIndex]["key"]?this._c_fav_list[this.favTabIndex]["key"]:this._c_main_list[this.mianTabIndex]["key"],exchange:this.exchange,finance:this.finance})},switch_class(t){return this._c_switch_list["finance"===this._c_main_list[this.mianTabIndex]["key"]?this.financeIndex:this.exchangeIndex]["key"]===t.key?"actived":""}}},D=z,U=(e("0e681"),Object(k["a"])(D,O,F,!1,null,"1c5bf2b3",null)),V=U.exports,j={name:"market",components:{Chart:v,Contract:P,Tab:V,Rate:R},props:{isShowSearch:{type:Boolean,default:!0},isShowChart:{type:Boolean,default:!0},outsideSearch:{type:String,default:""}},data(){return{isShowSkeleton:!0,search:"",config:{selectFav:!!this.$store.state.token,market:"contract",exchange:this.$store.state.assets.exchange,finance:"us"},bn_perp:{SocketTask:null,list:[],config:[],symbolPairList:[],topConfig:[],topSymbolPairList:[],topList:[],favConfig:[]},okx_perp:{SocketTask:null,list:[],config:[],symbolPairList:[],topConfig:[],topSymbolPairList:[],topList:[],favConfig:[],pingTimeID:null},bn_rate:{SocketTask:null,list:[],config:[],favConfig:[],PollingTask:null},okx_rate:{SocketTask:null,list:[],config:[],favConfig:[],pingTimeID:null},finance:{PollingTask:null,hk_list:[],us_list:[]}}},computed:{...Object(a["d"])({token:"token"}),_c_contract_list(){return this.config.selectFav?this.config.exchange===u?this.bn_perp.list.filter(t=>{var i;return this._c_bn_contract_favList.includes(null===(i=t.config)||void 0===i?void 0:i.symbolPair)}):this.okx_perp.list.filter(t=>{var i;return this._c_okx_contract_favList.includes(null===(i=t.config)||void 0===i?void 0:i.symbolPair)}):this.config.exchange===u?this.bn_perp.list:this.okx_perp.list},_c_contract_topList(){return this.$utils._createDoubleArr(this.bn_perp.topList,4)},_c_bn_contract_favList(){const t=[];for(const i of this.bn_perp.favConfig)t.push(i.symbol);return t},_c_okx_contract_favList(){const t=[];for(const i of this.okx_perp.favConfig)t.push(i.symbol);return t},_c_contract_favList(){return this.config.exchange===u?this._c_bn_contract_favList:this._c_okx_contract_favList},_c_bn_rate_favList(){const t=[];for(const i of this.bn_rate.favConfig)t.push(i.id);return t},_c_okx_rate_favList(){const t=[];for(const i of this.okx_rate.favConfig)t.push(i.id);return t},_c_rate_favList(){return this.config.exchange===u?this._c_bn_rate_favList:this._c_okx_rate_favList},_c_rate_list(){return this.config.selectFav?this.config.exchange===u?this.bn_rate.list.filter(t=>{var i;return this._c_bn_rate_favList.includes(null===(i=t.config)||void 0===i?void 0:i.id)}):this.okx_rate.list.filter(t=>{var i;return this._c_okx_rate_favList.includes(null===(i=t.config)||void 0===i?void 0:i.id)}):this.config.exchange===u?this.bn_rate.list:this.okx_rate.list},_c_finance_list(){return"hk"===this.config.finance?this.finance.hk_list:this.finance.us_list}},watch:{},async mounted(){await this.futuresContractsConfigList(),this.subscribe("init"),this.contract_getFavorite()},beforeDestroy(){this.closeTask()},methods:{...Object(a["c"])({CHANGE_BN_PREP:"CHANGE_BN_PREP",CHANGE_OKX_PREP:"CHANGE_OKX_PREP",CHANGE_BN_RATE:"CHANGE_BN_RATE",CHANGE_OKX_RATE:"CHANGE_OKX_RATE"}),closeTask(){this.unsubscribe_bn_perp(),this.unsubscribe_okx_perp(),this.unsubscribe_bn_rate(),this.unsubscribe_okx_rate(),this.unsubscribe_finance()},async changeConfig(t){this.config=t,"contract"===this.config.market?(await this.futuresContractsConfigList(),this.subscribe(),this.contract_getFavorite(),this.unsubscribe_finance()):"rate"===this.config.market?(await this.getArbitrageList(),this.subscribe(),this.rate_getFavorite(),this.unsubscribe_finance()):await this.subscribe_finance()},subscribe(t){"init"===t?(this.subscribe_bn_perp(),this.subscribe_okx_perp()):"contract"===this.config.market?this.config.exchange===u?this.subscribe_bn_perp():this.subscribe_okx_perp():"rate"===this.config.market?this.config.exchange===u?this.subscribe_bn_rate():this.subscribe_okx_rate():this.subscribe_finances()},unsubscribe_bn_perp(){if(this.bn_perp.SocketTask){const t=this.bn_perp.symbolPairList.map(t=>t.toLowerCase()+"@ticker");this.bn_perp.SocketTask.sendSock(JSON.stringify({method:"UNSUBSCRIBE",params:t,id:1})),this.bn_perp.SocketTask=null}},unsubscribe_okx_perp(){if(this.okx_perp.SocketTask){const t=this.okx_perp.symbolPairList.map(t=>({channel:"tickers",instId:t+"-SWAP"}));this.okx_perp.SocketTask.sendSock(JSON.stringify({op:"unsubscribe",args:t})),this.okx_perp.SocketTask=null,clearInterval(this.okx_perp.pingTimeID),this.okx_perp.PollingTask=null}},unsubscribe_bn_rate(){if(this.bn_rate.SocketTask){const t=this.bn_rate.list.map(t=>t.config.rightLegSymbol.toLowerCase()+"@markPrice"),i=this.bn_rate.list.map(t=>t.config.rightLegSymbol.toLowerCase()+"@ticker");this.bn_rate.SocketTask.sendSock(JSON.stringify({method:"UNSUBSCRIBE",params:t,id:2})),this.bn_rate.SocketTask.sendSock(JSON.stringify({method:"UNSUBSCRIBE",params:i,id:2})),this.bn_rate.SocketTask=null}this.bn_rate.PollingTask&&(clearInterval(this.bn_rate.PollingTask),this.bn_rate.PollingTask=null)},unsubscribe_okx_rate(){if(this.okx_rate.SocketTask){const t=this.okx_rate.list.map(t=>({channel:"linear-funding-rate-arbitrage",ccy:t.config.symbol}));this.okx_rate.SocketTask.sendSock(JSON.stringify({op:"unsubscribe",args:t})),this.okx_rate.SocketTask=null,clearInterval(this.okx_rate.pingTimeID),this.okx_rate.PollingTask=null}},unsubscribe_finance(){this.finance.PollingTask&&(clearInterval(this.finance.PollingTask),this.finance.PollingTask=null)},subscribe_bn_perp(){this.bn_perp.SocketTask=this.bn_perp.SocketTask||new r(this.$getEnv("VUE_APP_PUSHER_SOCKET_URL"));const t=this.bn_perp.symbolPairList.map(t=>t.toLowerCase()+"@ticker");this.bn_perp.SocketTask.sendSock(JSON.stringify({method:"SUBSCRIBE",params:t,id:1}),t=>{const i=JSON.parse(t.data);"id"in i&&"result"in i||this.bn_changeMarketList(i)})},subscribe_okx_perp(){this.okx_perp.SocketTask=this.okx_perp.SocketTask||new r(this.$getEnv("VUE_APP_OKX_SOCKET_URL"));const t=this.okx_perp.symbolPairList.map(t=>({channel:"tickers",instId:t+"-SWAP"}));this.okx_perp.SocketTask.sendSock(JSON.stringify({op:"subscribe",args:t}),t=>{if(t.data){const{data:i}=JSON.parse(t.data);i&&this.okx__changeMarketList(i[0])}clearInterval(this.okx_perp.pingTimeID),this.okx_perp.pingTimeID=setInterval(()=>{this.okx_perp.SocketTask&&this.okx_perp.SocketTask.sendSock("ping")},2e4)})},subscribe_bn_rate(){for(const e of this.bn_rate.list)this.bn_openInterestHist({symbol:e.config.rightLegSymbol.toLowerCase(),period:"1d",limit:1}),this.bn_fundingRate({symbol:e.config.rightLegSymbol.toLowerCase(),startTime:this.$dayjs().valueOf()-2592e5,endTime:this.$dayjs().valueOf()});clearInterval(this.bn_rate.PollingTask),this.bn_rate.PollingTask=null,this.bn_rate.PollingTask=this.bn_rate.PollingTask||setInterval(()=>{for(const t of this.bn_rate.list)this.bn_openInterestHist({symbol:t.config.rightLegSymbol.toLowerCase(),period:"1d",limit:1})},3e5),this.bn_rate.SocketTask=this.bn_rate.SocketTask||new r(this.$getEnv("VUE_APP_PUSHER_SOCKET_URL"));const t=this.bn_rate.list.map(t=>t.config.rightLegSymbol.toLowerCase()+"@markPrice"),i=this.bn_rate.list.map(t=>t.config.rightLegSymbol.toLowerCase()+"@ticker");this.bn_rate.SocketTask.sendSock(JSON.stringify({method:"SUBSCRIBE",params:t,id:2})),this.bn_rate.SocketTask.sendSock(JSON.stringify({method:"SUBSCRIBE",params:i,id:2}),t=>{const i=JSON.parse(t.data);"id"in i&&"result"in i||this.bn__changeRateList(i,"ticker")})},subscribe_okx_rate(){this.okx_rate.SocketTask=this.okx_rate.SocketTask||new r(this.$getEnv("VUE_APP_OKX_INNER_SOCKET_URL"));const t=this.okx_rate.list.map(t=>({channel:"linear-funding-rate-arbitrage",ccy:t.config.symbol}));this.okx_rate.SocketTask.sendSock(JSON.stringify({op:"subscribe",args:t}),t=>{if(t.data){const{data:i}=JSON.parse(t.data);i&&this.okx__changeRateList(i[0])}clearInterval(this.okx_rate.pingTimeID),this.okx_rate.pingTimeID=setInterval(()=>{this.okx_rate.SocketTask&&this.okx_rate.SocketTask.sendSock("ping")},2e4)})},subscribe_finance(){clearInterval(this.finance.PollingTask),this.finance.PollingTask=null,this.finance.PollingTask=this.finance.PollingTask||setInterval(()=>{this.getHotQuotation()},15e3)},async futuresContractsConfigList(){try{const t=await this.$api.market.futuresContractsConfigList({status:1});if(t.success){if(this.bn_perp.config=t.obj.filter(t=>1===t.contractType&&1===t.status&&t.exchange===g[u]),this.bn_perp.topConfig=this.bn_perp.config.filter(t=>2===t.top),this.bn_perp.symbolPairList=this.bn_perp.config.map(t=>t.symbolPair.toUpperCase()),this.bn_perp.topSymbolPairList=this.bn_perp.topConfig.map(t=>t.symbolPair.toUpperCase()),!this.bn_perp.list.length)for(const t of this.bn_perp.config)this.bn_perp.list.push({config:t});if(!this.bn_perp.topList.length){for(const t of this.bn_perp.topConfig)this.bn_perp.topList.push({config:t});this.bn_perp.topList.forEach((t,i)=>{this.$api.exchange.klines(this.bn_formatklineParams(t.config.symbolPair)).then(e=>{this.bn_perp.topList[i]={...t,kline:e}})})}if(this.okx_perp.config=t.obj.filter(t=>1===t.contractType&&1===t.status&&t.exchange===g[f]),this.okx_perp.topConfig=this.okx_perp.config.filter(t=>2===t.top),this.okx_perp.symbolPairList=this.okx_perp.config.map(t=>t.symbolPair.toUpperCase()),this.okx_perp.topSymbolPairList=this.okx_perp.topConfig.map(t=>t.symbolPair.toUpperCase()),!this.okx_perp.list.length)for(const t of this.okx_perp.config)this.okx_perp.list.push({config:t});if(!this.okx_perp.topList.length){for(const t of this.okx_perp.topConfig)this.okx_perp.topList.push({config:t});this.okx_perp.topList.forEach((t,i)=>{this.$api.exchange.historyCandles(this.okx_formatklineParams(t.config.symbolPair+"-SWAP")).then(e=>{"0"===(null===e||void 0===e?void 0:e.code)&&(this.okx_perp.topList[i]={...t,kline:e.data})})})}}}catch(t){this.$handleError.handleApiRequestException(t)}},async contract_getFavorite(){if(!this.token)return;const t=await this.$api.market.getFavorite();if(t.success&&t.obj){const i=[],e=[];for(const s of t.obj)1===s.status&&1===s.type&&(s.exchange===g[u]?i.push(s):e.push(s));this.bn_perp.favConfig=i,this.okx_perp.favConfig=e}},async rate_getFavorite(){if(!this.token)return;const t=N["a"].getStorageSync("BN_RATE",!0),i=N["a"].getStorageSync("OKX_RATE",!0);this.config.exchange===u?this.bn_rate.favConfig=(null===t||void 0===t?void 0:t.favConfig)||[]:this.okx_rate.favConfig=(null===i||void 0===i?void 0:i.favConfig)||[]},async getArbitrageList(){const t=await this.$api.market.getArbitrageList({exchange:g[this.config.exchange],pageSize:1e3});if(null!==t&&void 0!==t&&t.success)if(this.config.exchange===u){if(this.bn_rate.config=t.obj.records.filter(t=>1===t.status).filter(t=>{if(4===t.leftLegType&&1===t.rightLegType)return!0}),!this.bn_rate.list.length)for(const i of this.bn_rate.config)this.bn_rate.list.push({config:i})}else if(this.okx_rate.config=t.obj.records.filter(t=>1===t.status).filter(t=>{if(4===t.leftLegType&&1===t.rightLegType)return!0}),!this.okx_rate.list.length)for(const i of this.okx_rate.config)this.okx_rate.list.push({config:i})},async getHotQuotation(t,i){try{const s=await this.$api.market.getHotQuotation({exchange:t||d[this.config.finance]});var e;if(s.success)null!==s&&void 0!==s&&s.obj&&null!==(e=s.obj)&&void 0!==e&&e.length&&(t&&i?this.finance[i+"_list"]=s.obj:this.finance["hk"===this.config.finance?"hk_list":"us_list"]=s.obj)}catch(s){this.$handleError.handleApiRequestException(s)}},async bn_openInterestHist(t){const i=await this.$api.market.openInterestHist(t);if(null!==i&&void 0!==i&&i.length)for(const e of i){const t=this.bn_rate.list.findIndex(t=>e.symbol===t.config.rightLegSymbol);-1!==t&&this.$set(this.bn_rate.list,t,{...e,...this.bn_rate.list[t]})}},async bn_fundingRate(t){const i=await this.$api.market.fundingRate(t);if(null!==i&&void 0!==i&&i.length){let e=0;for(const t of i)e=this.$NP.plus(e,t.fundingRate);const s=this.bn_rate.list.findIndex(i=>t.symbol.toUpperCase()===i.config.rightLegSymbol);-1!==s&&(this.bn_rate.list[s]["acc3dFundingRate"]=e)}},bn__changeRateList(t){if("24hrTicker"===t.e){for(const i of this.bn_rate.list)if(t.s===i.config.rightLegSymbol){const e=this.bn_rate.list.findIndex(i=>i.config.rightLegSymbol===t.s);-1!==e&&this.$set(this.bn_rate.list,e,{...i,contract:t})}}else for(const i of this.bn_rate.list)if(t.s===i.config.rightLegSymbol){const e=this.bn_rate.list.findIndex(i=>i.config.rightLegSymbol===t.s);-1!==e&&this.$set(this.bn_rate.list,e,{...i,...t})}},okx__changeRateList(t){for(const i of this.okx_rate.list)if(t.uly===`${i.config.rightTradeCoin}-${i.config.rightPriceCoin}`){const e=this.okx_rate.list.findIndex(i=>`${i.config.rightTradeCoin}-${i.config.rightPriceCoin}`===t.uly);-1!==e&&this.$set(this.okx_rate.list,e,{...i,...t})}},bn_changeMarketList(t){for(const i of this.bn_perp.list)if(i.config.symbolPair===t.s){const e=this.bn_perp.symbolPairList.findIndex(i=>i==t.s);-1!==e&&this.$set(this.bn_perp.list,e,{...i,...t})}for(const i of this.bn_perp.topList)if(i.config.symbolPair===t.s){const e=this.bn_perp.topSymbolPairList.findIndex(i=>i==t.s);-1!==e&&this.$set(this.bn_perp.topList,e,{...i,...t})}},okx__changeMarketList(t){for(const i of this.okx_perp.list)if(t.instId===`${i.config.tradeCoin}-${i.config.priceCoin}-SWAP`){const e=this.okx_perp.symbolPairList.findIndex(i=>i+"-SWAP"===t.instId);-1!==e&&this.$set(this.okx_perp.list,e,{...i,...t})}for(const i of this.okx_perp.topList)if(t.instId===`${i.config.tradeCoin}-${i.config.priceCoin}-SWAP`){const e=this.okx_perp.topSymbolPairList.findIndex(i=>i+"-SWAP"===t.instId);-1!==e&&this.$set(this.okx_perp.topList,e,{...i,...t})}},bn_formatklineParams(t,i=24){const e=this.$dayjs().valueOf();return{symbol:t,interval:"1h",limit:i,startTime:e-36e5*i,endTime:e}},okx_formatklineParams(t,i=24){const e=this.$dayjs().valueOf();return{instId:t,bar:"1H",limit:24,before:e-36e5*i,after:e}}}},B=j,H=(e("8a74"),Object(k["a"])(B,s,n,!1,null,"51b007a0",null));i["default"]=H.exports},"82fa":function(t,i,e){},"8a74":function(t,i,e){"use strict";e("82fa")},a78e:function(t,i,e){"use strict";e("714c")},a7ad:function(t,i,e){},b8ca:function(t,i,e){},d176:function(t,i,e){"use strict";e("faf58")},e335:function(t,i,e){t.exports=e.p+"img/list.e55dcec1.png"},faf58:function(t,i,e){}}]);